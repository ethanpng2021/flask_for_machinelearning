<!doctype html>
<html lang="en">
<head>
<title>X1 Machine Learning Platform</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<!-- <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css"> -->
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<!-- <link rel="stylesheet" href="/resources/demos/style.css"> -->
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/static/css/style.css">
<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.1.0/chart.min.js'></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/regression/2.0.1/regression.min.js"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
<div class="wrapper d-flex align-items-stretch">
  <nav id="sidebar">
    <div class="custom-menu">
      <button type="button" id="sidebarCollapse" class="btn btn-primary"> <i class="fa fa-bars"></i> <span class="sr-only">Toggle Menu</span> </button>
    </div>
    <h1><a href="{{url_for('home')}}" class="logo">Machine Learning Platform</a></h1>
    <ul class="list-unstyled components mb-5">
      <!-- <li> <a href="{{url_for('home')}}"><span class="fa fa-home mr-3"></span> Homepage</a> </li> -->
      <li> <a href="{{url_for('ingestprocessor')}}"><span class="fa fa-user mr-3"></span> Data Ingestion</a> </li>
      <li> <a href="{{url_for('preprocessing1')}}"><span class="fa fa-user mr-3"></span> Data Preprocessing</a> </li>
      <li class="active"> <a href="{{url_for('algorithmsandmodeling')}}"><span class="fa fa-user mr-3"></span> Machine Learning</a> </li>
      <!-- <li> <a href="{{url_for('machinelearning')}}"><span class="fa fa-user mr-3"></span> Machine Learning</a> </li>
      <li> <a href="{{url_for('outputvisualization')}}"><span class="fa fa-user mr-3"></span> Output Visualization</a> </li> -->
    </ul>
  </nav>
  
  <!-- Page Content  -->
  <div id="content" class="p-4 p-md-5 pt-5">
    <h2 class="mb-4">Algorithms & Modeling</h2>
    <form action="/algorithmsandmodeling" method="post" enctype="multipart/form-data" autocomplete="on">

      <div class="row">
        <div class="col-lg"> 
          
          <!-- <label for="tbnamexy">Select X & Y Tables from Existing Database</label>
                        <br>
                        <select class="form-select" id="tbnamexy" name="tbnamexy">
                            {% for item in tablenamexylist %}
                              {% if tablenxy == item %}
                                <option value="{{item}}" selected>{{item}}</option>
                              {% else %}
                                <option value="{{item}}">{{item}}</option>
                              {% endif %}
                            {% endfor %}
                        </select>

                    <br><br>        -->

          <label for="tablenamex" class="mdb-main-label">Select <strong>XTrain, XTest</strong> (Inputs) & <strong>YTrain, YTest</strong> (Labels/Targets) from Existing Database</label>
          <br>
          <select name="tablenamex" class="mdb-select md-form colorful-select dropdown-primary">
            
                        {% for item in listoftables %}
                            {% if item == tablenamex %}
                                
            <option value="{{ item }}" selected>{{ item }}</option>
            
                            {% else %}
                                
            <option value="{{ item }}">{{ item }}</option>
            
                            {% endif %}      
                        {% endfor %}
                    
          </select>
          <br>
          <br>
          <div style="color:Blue; font-size: 0.775em;"> 
            {% with messages = get_flashed_messages() %}
              {% if messages %}
                {% for message in messages %}
                  {{ message }}
                {% endfor %}
              {% endif %}
            {% endwith %} 
          </div>
          
          <!-- <br><br>

                    <label for="tablenamey" class="mdb-main-label">Select Label/Target Y</label>
             
                    <br>

                    <select name="tablenamey" class="mdb-select md-form colorful-select dropdown-primary">
                        {% for item in listoftables %}
                            {% if item == tablenamey %}
                                <option value="{{ item }}" selected>{{ item }}</option>
                            {% else %}
                                <option value="{{ item }}">{{ item }}</option>
                            {% endif %}      
                        {% endfor %}
                    </select>--> 
          
          <!-- <br><br> --> 
          
          <!-- <input type="hidden" id="tnames" name="tnames" value='{{listoftables}}'> --> 
          
          <!-- <input type="submit" class="btn btn-success" name="showtable1" value="Show Table"> --> 
          
        </div>
        <div class="col-lg">

          
          <p><small>(Date column is required for 'Normal Plots' and 'Kmeans Clusters')</small></p>
          <label for="modelname">Select Model</label>
          <br>
          <select class="form-select" id="modelname" name="modelname">
            
                            {% for item in modelnamelist %}
                              {% if modelname == item %}
                                
            <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
            <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
          </select>

          <br>

          

          <!-- <label for="dataprocessname">Select Data Transformation Model (to convert predicted output back to real values)</label>
          <br>
          <select class="form-select" id="dataprocessname" name="dataprocessname">
            
                            {% for item in dataprocessnamelist %}
                              {% if dataprocessname == item %}
                                
            <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
            <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
          </select> -->

          
          

          <!-- <label for="base_estimator_name">Select Base Estimator</label>
          <br>
          <select class="form-select" id="base_estimator_name" name="base_estimator_name">
            
                            {% for item in base_estimator_list %}
                              {% if base_estimator_name == item %}
                                
            <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
            <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
          </select> -->

          &nbsp;&nbsp;&nbsp;
          <input type="submit" class="btn btn-primary btn-sm" name="apply" value="Submit">
         
          
          <!-- <br><br>

                    <label for="tablenamey" class="mdb-main-label">Select Label/Target Y</label>
             
                    <br>

                    <select name="tablenamey" class="mdb-select md-form colorful-select dropdown-primary">
                        {% for item in listoftables %}
                            {% if item == tablenamey %}
                                <option value="{{ item }}" selected>{{ item }}</option>
                            {% else %}
                                <option value="{{ item }}">{{ item }}</option>
                            {% endif %}      
                        {% endfor %}
                    </select>--> 
          
          <!-- <br><br> --> 
          
          <!-- <input type="hidden" id="tnames" name="tnames" value='{{listoftables}}'> --> 
          
          <!-- <input type="submit" class="btn btn-success" name="showtable1" value="Show Table"> --> 
                          
                  <p>Output Accuracy: {{accuracy}}</p>
          

        </div>
      </div>
      <hr>

      {% if modelname == "Normal Plots" %}

      <div class="row">
        <div class="col-lg">
          <H4>Select 5 Columns for Categorization</H4>
          <label for="coln1">Category</label>
          <br>
          <select class="form-select" id="coln1" name="coln1">
            
                        {% for item in column_names %}
                          {% if coln1 == item %}
                            
            <option value="{{item}}" selected>{{item}}</option>
            
                          {% else %}
                            
            <option value="{{item}}">{{item}}</option>
            
                          {% endif %}
                        {% endfor %}
                    
          </select>
          &nbsp;&nbsp;&nbsp;
          <input type="submit" class="btn btn-primary btn-sm" name="pullcat" value="Pull">
          <br>
          <br>
          <label for="selectcat">Select Entity</label>
          <select class="form-select" id="selectcat" name="selectcat">
            
                        {% for item in listcat %}
                          {% if selectcat == item %}
                            
            <option value="{{item}}" selected>{{item}}</option>
            
                          {% else %}
                            
            <option value="{{item}}">{{item}}</option>
            
                          {% endif %}
                        {% endfor %}
                    
          </select>
          <br>
          <br>
          <label for="coln2">X Axis</label>
          <br>
          <select class="form-select" id="coln2" name="coln2">
            
                        {% for item in column_names %}
                          {% if coln2 == item %}
                            
            <option value="{{item}}" selected>{{item}}</option>
            
                          {% else %}
                            
            <option value="{{item}}">{{item}}</option>
            
                          {% endif %}
                        {% endfor %}
                    
          </select>
          <br>
          <br>
          <label for="coln3">Y Axis</label>
          <br>
          <select class="form-select" id="coln3" name="coln3">
            
                        {% for item in column_names %}
                          {% if coln3 == item %}
                            
            <option value="{{item}}" selected>{{item}}</option>
            
                          {% else %}
                            
            <option value="{{item}}">{{item}}</option>
            
                          {% endif %}
                        {% endfor %}
                    
          </select>
          <br>
          <br>
          <label for="coln4">Z Axis</label>
          <br>
          <select class="form-select" id="coln4" name="coln4">
            
                        {% for item in column_names %}
                          {% if coln4 == item %}
                            
            <option value="{{item}}" selected>{{item}}</option>
            
                          {% else %}
                            
            <option value="{{item}}">{{item}}</option>
            
                          {% endif %}
                        {% endfor %}
                    
          </select>
          <br>
          <br>
          <label for="coln5">Date</label>
          <br>
          <select class="form-select" id="coln5" name="coln5">
            
                        {% for item in column_names %}
                          {% if coln5 == item %}
                            
            <option value="{{item}}" selected>{{item}}</option>
            
                          {% else %}
                            
            <option value="{{item}}">{{item}}</option>
            
                          {% endif %}
                        {% endfor %}
                    
          </select>
          &nbsp;&nbsp;&nbsp;
          <input type="submit" class="btn btn-primary btn-sm" name="pulldate" value="Pull">
          <br>
          <br>
          <label for="fromdt">From Date</label>
          <select class="form-select" id="fromdt" name="fromdt">
            
                        {% for item in listfromdates %}
                          {% if fromdt == item %}
                            
            <option value="{{item}}" selected>{{item}}</option>
            
                          {% else %}
                            
            <option value="{{item}}">{{item}}</option>
            
                          {% endif %}
                        {% endfor %}
                    
          </select>
          &nbsp;&nbsp;
          <label for="todt">To Date</label>
          <select class="form-select" id="todt" name="todt">
            
                        {% for item in listtodates %}
                          {% if todt == item %}
                            
            <option value="{{item}}" selected>{{item}}</option>
            
                          {% else %}
                            
            <option value="{{item}}">{{item}}</option>
            
                          {% endif %}
                        {% endfor %}
                    
          </select>
          <br>
          <br>
          <input type="submit" class="btn btn-success" name="confirm5cat" value="Confirm">
          
          <!-- <br><br>       
                
                    <label for="tablenamex" class="mdb-main-label">Select <strong>XTrain, XTest</strong> (Inputs) & <strong>YTrain, YTest</strong> (Labels/Targets) from Existing Database</label>
             
                    <br>

                    <select name="tablenamex" class="mdb-select md-form colorful-select dropdown-primary">
                        {% for item in listoftables %}
                            {% if item == tablenamex %}
                                <option value="{{ item }}" selected>{{ item }}</option>
                            {% else %}
                                <option value="{{ item }}">{{ item }}</option>
                            {% endif %}      
                        {% endfor %}
                    </select> --> 
          
        </div>
        <div class="col-lg">
          <H4>Normal Plots</H4>
          <section>
            <canvas id="c" width="1024" height="480"></canvas>
          </section>
          <script>
                    
                    var ctx = $("#c");
                    //Chart.defaults.global.responsive = false;
                    //var ctx = document.getElementById("myChart").getContext("2d");

              var myChart = new Chart(ctx, {

                type: 'bar',

                data: {
                  labels: [{% for item in combined4xlabel %}
                                      "{{item}}",
                                      {% endfor %}], 
                  datasets: [{
                    label: '{{coln2}} vs. {{coln3}}',
                    //xAxisID:'x1',
                    data: [{% for item in final_yaxis %}
                                      "{{item}}",
                                      {% endfor %}],


                    // fill: true,
                    // lineTension: 0.1,
                    backgroundColor: "green",
                    // borderColor: "rgba(75,192,192,1)",
                    // borderCapStyle: 'butt',
                    // borderDash: [],
                    // borderDashOffset: 0.0,
                    // borderJoinStyle: 'miter',
                    // pointBorderColor: "rgba(75,192,192,1)",
                    // pointBackgroundColor: "#fff",
                    // pointBorderWidth: 1,
                    // pointHoverRadius: 5,
                    // pointHoverBackgroundColor: "rgba(75,192,192,1)",
                    // pointHoverBorderColor: "rgba(220,220,220,1)",
                    // pointHoverBorderWidth: 2,
                    // pointRadius: 5,
                    // pointHitRadius: 10,
                    //spanGaps: false

                  }]
                },



                options:{

                  tooltips: {
                    callbacks: {
                      title: function(tooltipItem, data) {
                        return data['labels'][tooltipItem[0]['index']];
                      },
                      label: function(tooltipItem, data) {
                        return data['datasets'][0]['data'][tooltipItem['index']];
                      },
                      afterLabel: function(tooltipItem, data) {
                        var dataset = data['datasets'][0];
                        var percent = Math.round((dataset['data'][tooltipItem['index']] / dataset["_meta"][0]['total']) * 100)
                        return ""; //'(' + percent + '%)';
                      }
                    },
                    backgroundColor: '#FFF',
                    titleFontSize: 16,
                    titleFontColor: '#0066ff',
                    bodyFontColor: '#000',
                    bodyFontSize: 16,
                    displayColors: false
                  },

                  scales:{


                                  x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{xaxislabel}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      },

                                      //id:'xAxis1',
                                      //type:"category",
                                      ticks:{
                                        autoSkip: false,
                                        maxRotation: 90,
                                        minRotation: 0,
                                        callback: function(val, index){
                                          
                                          var xa = this.getLabelForValue(val)
                                          
                                          var value1 = xa.split(";")[0];
                                       
                                          return value1;
                                        }
                                      }
                                    },

                                  y: {
                                        display: true,
                                        title: {
                                          display: true,
                                          text: "{{yaxislabel}}",
                                          color: '#911', //191
                                          font: {
                                            family: 'Arial',
                                            size: 15,
                                            style: 'normal',
                                            lineHeight: 1.2
                                          },
                                          padding: {top: 0, left: 0, right: 0, bottom: 0}
                                        },

                                        ticks:{
                                            beginAtZero:true
                                        }
                                      },


                    // x: {
                        // scaleLabel: {
                        //   display: true,
                        //   labelString: '{{xaxislabel}}'
                        // },
                      //   id:'xAxis1',
                      //   type:"category",
                      //   ticks:{
                      //     autoSkip: false,
                      //     maxRotation: 90,
                      //     minRotation: 0,
                      //     callback:function(label){
                            
                      //       var value1 = label.split(";")[0];
                         
                      //       return value1;
                      //     }
                      //   }
                      // },

                     x2: {
                        //id:'xAxis2',
                        type:"category",
                        // gridLines: {
                        //   drawOnChartArea: false, 
                        // },
                        ticks:{
                          autoSkip: false,
                          maxRotation: 90,
                          minRotation: 0,
                          callback: function(val, index){
                                          
                            var xa = this.getLabelForValue(val)
                            
                            var value1 = xa.split(";")[1];
                         
                            return value1;
                          }
                             
                            }
                          },
                      
                    // yAxes:[{
                    //   scaleLabel: {
                    //       display: true,
                    //       labelString: '{{yaxislabel}}'
                    //     },
                    //   ticks:{
                    //     beginAtZero:true
                    //   }
                    // }]
                  }
                }
              });

                                      


                  </script> 
          <br>
          <br>
          
          <section>
            <canvas id="d" width="1024" height="480"></canvas>
          </section>
          <script>
                    
                    var ctx = $("#d");
                    //Chart.defaults.global.responsive = false;
                    //var ctx = document.getElementById("myChart").getContext("2d");

              var myChart = new Chart(ctx, {

                type: 'bar',

                data: {
                  labels: [{% for item in combined4ylabel %}
                                      "{{item}}",
                                      {% endfor %}], 
                  datasets: [{
                    label: '{{coln3}} vs. {{coln4}}',
                    //xAxisID:'xAxis1',
                    data: [{% for item in final_zaxis %}
                                      "{{item}}",
                                      {% endfor %}],


                    // fill: true,
                    // lineTension: 0.1,
                    backgroundColor: "green",
                    // borderColor: "rgba(75,192,192,1)",
                    // borderCapStyle: 'butt',
                    // borderDash: [],
                    // borderDashOffset: 0.0,
                    // borderJoinStyle: 'miter',
                    // pointBorderColor: "rgba(75,192,192,1)",
                    // pointBackgroundColor: "#fff",
                    // pointBorderWidth: 1,
                    // pointHoverRadius: 5,
                    // pointHoverBackgroundColor: "rgba(75,192,192,1)",
                    // pointHoverBorderColor: "rgba(220,220,220,1)",
                    // pointHoverBorderWidth: 2,
                    // pointRadius: 5,
                    // pointHitRadius: 10,
                    //spanGaps: false

                  }]
                },



                options:{

                  tooltips: {
                    callbacks: {
                      title: function(tooltipItem, data) {
                        return data['labels'][tooltipItem[0]['index']];
                      },
                      label: function(tooltipItem, data) {
                        return data['datasets'][0]['data'][tooltipItem['index']];
                      },
                      afterLabel: function(tooltipItem, data) {
                        var dataset = data['datasets'][0];
                        var percent = Math.round((dataset['data'][tooltipItem['index']] / dataset["_meta"][0]['total']) * 100)
                        return ""; //'(' + percent + '%)';
                      }
                    },
                    backgroundColor: '#FFF',
                    titleFontSize: 16,
                    titleFontColor: '#0066ff',
                    bodyFontColor: '#000',
                    bodyFontSize: 16,
                    displayColors: false
                  },

                  scales:{
                    
                              x: {
                                  display: true,
                                  title: {
                                    display: true,
                                    text: "{{yaxislabel}}",
                                    color: '#911',
                                    font: {
                                      family: 'Arial',
                                      size: 15,
                                      weight: 'normal',
                                      lineHeight: 1.2,
                                    },
                                    padding: {top: 0, left: 0, right: 0, bottom: 0}
                                  },

                                  //id:'xAxis1',
                                  //type:"category",
                                  ticks:{
                                    autoSkip: false,
                                    maxRotation: 90,
                                    minRotation: 0,
                                    callback: function(val, index){
                                      
                                      var xa = this.getLabelForValue(val)
                                      
                                      var value1 = xa.split(";")[0];
                                   
                                      return value1;
                                    }
                                  }
                                },

                              y: {
                                    display: true,
                                    title: {
                                      display: true,
                                      text: "{{zaxislabel}}",
                                      color: '#911', //191
                                      font: {
                                        family: 'Arial',
                                        size: 15,
                                        style: 'normal',
                                        lineHeight: 1.2
                                      },
                                      padding: {top: 0, left: 0, right: 0, bottom: 0}
                                    },

                                    ticks:{
                                        beginAtZero:true
                                    }
                                  },

                              x2: {
                                    //id:'xAxis2',
                                    type:"category",
                                    // gridLines: {
                                    //   drawOnChartArea: false, 
                                    // },
                                    ticks:{
                                      autoSkip: false,
                                      maxRotation: 90,
                                      minRotation: 0,
                                      callback: function(val, index){
                                                      
                                        var xa = this.getLabelForValue(val)
                                        
                                        var value1 = xa.split(";")[1];
                                     
                                        return value1;
                                      }
                                         
                                        }
                                  },
                    

                  }
                }
              });

                                      
                  </script> 


        </div>
      </div>

      {% endif %}


      {% if modelname == "Kmeans Clusters" %}

            <div class="row">

            <div class="col-md-3">
              
              <!-- <H6>Select 5 Columns for Categorization</H6> -->

              <label for="clustersize" class="mdb-main-label">Cluster Size</label>  
              <br>
              <select name="clustersize" class="mdb-select md-form colorful-select dropdown-primary" style="width:100px">
                  {% for itemc in clustersizelist%}
                    {% if itemc == clustersize %}
                      <option value="{{ itemc }}" selected>{{ itemc }}</option>
                    {% else %}
                      <option value="{{ itemc }}">{{ itemc }}</option>
                    {% endif %}
                  {% endfor %}
              </select>
              <br>
              <br>
              <label for="coln1">Category</label>
              <br>
              <select class="form-select" id="coln1" name="coln1">
                
                            {% for item in column_names %}
                              {% if coln1 == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
                
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
                
                              {% endif %}
                            {% endfor %}
                        
              </select>
              &nbsp;&nbsp;&nbsp;
              <input type="submit" class="btn btn-primary btn-sm" name="pullcatkmeans" value="Pull">
              <br>
              <br>
              <label for="selectcat">Select Entity</label>
              <select class="form-select" id="selectcat" name="selectcat">
                
                            {% for item in listcat %}
                              {% if selectcat == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
                
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
                
                              {% endif %}
                            {% endfor %}
                        
              </select>
              <br>
              <br>
              <label for="coln2">X Axis</label>
              <br>
              <select class="form-select" id="coln2" name="coln2">
                
                            {% for item in column_names %}
                              {% if coln2 == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
                
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
                
                              {% endif %}
                            {% endfor %}
                        
              </select>
              <br>
              <br>
              <label for="coln3">Y Axis</label>
              <br>
              <select class="form-select" id="coln3" name="coln3">
                
                            {% for item in column_names %}
                              {% if coln3 == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
                
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
                
                              {% endif %}
                            {% endfor %}
                        
              </select>
              <br>
              <br>
              <label for="coln4">Z Axis</label>
              <br>
              <select class="form-select" id="coln4" name="coln4">
                
                            {% for item in column_names %}
                              {% if coln4 == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
                
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
                
                              {% endif %}
                            {% endfor %}
                        
              </select>
              <br>
              <br>
              <label for="coln5">Date</label>
              <br>
              <select class="form-select" id="coln5" name="coln5">
                
                            {% for item in column_names %}
                              {% if coln5 == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
                
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
                
                              {% endif %}
                            {% endfor %}
                        
              </select>
              &nbsp;&nbsp;&nbsp;
              <input type="submit" class="btn btn-primary btn-sm" name="pulldatekmeans" value="Pull">
              <br>
              <br>
              <label for="fromdt">From Date</label>
              <select class="form-select" id="fromdt" name="fromdt">
                
                            {% for item in listfromdates %}
                              {% if fromdt == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
                
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
                
                              {% endif %}
                            {% endfor %}
                        
              </select>
              &nbsp;&nbsp;
              <label for="todt">To Date</label>
              <select class="form-select" id="todt" name="todt">
                
                            {% for item in listtodates %}
                              {% if todt == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
                
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
                
                              {% endif %}
                            {% endfor %}
                        
              </select>
              <br>
              <br>
              <input type="submit" class="btn btn-success" name="confirmkmeans" value="Confirm">
              
            


            </div>

            <!-- <div class="row"> -->

              <div class="col-md-4">

              <H4>Kmeans Clusters</H4>

  <!-- <div class="col-md-6" style="padding-left: 30px;"> -->

<canvas id="scatterChart"></canvas>
                    
<script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("scatterChart").getContext("2d");

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        {
                        
                        label: "{{title2D}} - Centroids",
                        data: {{block2D}},
                        showLine: false,
                        borderColor: "red",
                        backgroundColor: "rgba(235, 19, 42, 0.4)",
                        pointRadius: 9
                        
                        },


                        {% if clustersize == '3' %}

                        {
                        
                        label: "Cluster 1",
                        data: {{block2Draw1}},
                        showLine: false,
                        borderColor: "rgba(42, 163, 30, 0.8)",
                        backgroundColor: "green",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 2",
                        data: {{block2Draw2}},
                        showLine: false,
                        borderColor: "rgba(24, 30, 228, 0.8)",
                        backgroundColor: "blue",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 3",
                        data: {{block2Draw3}},
                        showLine: false,
                        borderColor: "rgba(235, 23, 21, 0.8)",
                        backgroundColor: "red",
                        pointRadius: 8,
                        
                        },

                        {% endif %}


                        {% if clustersize == '4' %}

                        {
                        
                        label: "Cluster 1",
                        data: {{block2Draw1}},
                        showLine: false,
                        borderColor: "rgba(42, 163, 30, 0.8)",
                        backgroundColor: "green",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 2",
                        data: {{block2Draw2}},
                        showLine: false,
                        borderColor: "rgba(24, 30, 228, 0.8)",
                        backgroundColor: "blue",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 3",
                        data: {{block2Draw3}},
                        showLine: false,
                        borderColor: "rgba(235, 23, 21, 0.8)",
                        backgroundColor: "red",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 4",
                        data: {{block2Draw4}},
                        showLine: false,
                        borderColor: "rgba(242, 89, 18, 0.8)",
                        backgroundColor: "#FF8C00", //orange
                        pointRadius: 8,
                        
                        },
                        {% endif %}

                        {% if clustersize == '5' %}
                        
                        {
                        
                        label: "Cluster 1",
                        data: {{block2Draw1}},
                        showLine: false,
                        borderColor: "rgba(42, 163, 30, 0.8)",
                        backgroundColor: "green",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 2",
                        data: {{block2Draw2}},
                        showLine: false,
                        borderColor: "rgba(24, 30, 228, 0.8)",
                        backgroundColor: "blue",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 3",
                        data: {{block2Draw3}},
                        showLine: false,
                        borderColor: "rgba(235, 23, 21, 0.8)",
                        backgroundColor: "red",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 4",
                        data: {{block2Draw4}},
                        showLine: false,
                        borderColor: "rgba(242, 89, 18, 0.8)",
                        backgroundColor: "#FF8C00", //orange
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 5",
                        data: {{block2Draw5}},
                        showLine: false,
                        borderColor: "rgba(114, 21, 201, 0.8)",
                        backgroundColor: "#9400D3", //dark violet
                        pointRadius: 8,
                        
                        },

                        {% endif %}

                        {% if clustersize == '6' %}

                        {
                        
                        label: "Cluster 1",
                        data: {{block2Draw1}},
                        showLine: false,
                        borderColor: "rgba(42, 163, 30, 0.8)",
                        backgroundColor: "green",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 2",
                        data: {{block2Draw2}},
                        showLine: false,
                        borderColor: "rgba(24, 30, 228, 0.8)",
                        backgroundColor: "blue",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 3",
                        data: {{block2Draw3}},
                        showLine: false,
                        borderColor: "rgba(235, 23, 21, 0.8)",
                        backgroundColor: "red",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 4",
                        data: {{block2Draw4}},
                        showLine: false,
                        borderColor: "rgba(242, 89, 18, 0.8)",
                        backgroundColor: "#FF8C00", //orange
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 5",
                        data: {{block2Draw5}},
                        showLine: false,
                        borderColor: "rgba(114, 21, 201, 0.8)",
                        backgroundColor: "#9400D3", //dark violet
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 6",
                        data: {{block2Draw6}},
                        showLine: false,
                        borderColor: "rgba(42, 163, 30, 0.8)",
                        backgroundColor: "#ADFF2F", //greenyellow
                        pointRadius: 8,
                        
                        },

                        {% endif %}

                        {% if clustersize == '7' %}

                        {
                        
                        label: "Cluster 1",
                        data: {{block2Draw1}},
                        showLine: false,
                        borderColor: "rgba(42, 163, 30, 0.8)",
                        backgroundColor: "green",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 2",
                        data: {{block2Draw2}},
                        showLine: false,
                        borderColor: "rgba(24, 30, 228, 0.8)",
                        backgroundColor: "blue",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 3",
                        data: {{block2Draw3}},
                        showLine: false,
                        borderColor: "rgba(235, 23, 21, 0.8)",
                        backgroundColor: "red",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 4",
                        data: {{block2Draw4}},
                        showLine: false,
                        borderColor: "rgba(242, 89, 18, 0.8)",
                        backgroundColor: "#FF8C00", //orange
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 5",
                        data: {{block2Draw5}},
                        showLine: false,
                        borderColor: "rgba(114, 21, 201, 0.8)",
                        backgroundColor: "#9400D3", //dark violet
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 6",
                        data: {{block2Draw6}},
                        showLine: false,
                        borderColor: "rgba(42, 163, 30, 0.8)",
                        backgroundColor: "#ADFF2F", //greenyellow
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 7",
                        data: {{block2Draw7}},
                        showLine: false,
                        borderColor: "rgba(33, 14, 233, 0.8)",
                        backgroundColor: "#1E90FF", //indigo
                        pointRadius: 8,
                        
                        },

                        {% endif %}

                        {% if clustersize == '8' %}

                        {
                        
                        label: "Cluster 1",
                        data: {{block2Draw1}},
                        showLine: false,
                        borderColor: "rgba(42, 163, 30, 0.8)",
                        backgroundColor: "green",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 2",
                        data: {{block2Draw2}},
                        showLine: false,
                        borderColor: "rgba(24, 30, 228, 0.8)",
                        backgroundColor: "blue",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 3",
                        data: {{block2Draw3}},
                        showLine: false,
                        borderColor: "rgba(235, 23, 21, 0.8)",
                        backgroundColor: "red",
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 4",
                        data: {{block2Draw4}},
                        showLine: false,
                        borderColor: "rgba(242, 89, 18, 0.8)",
                        backgroundColor: "#FF8C00", //orange
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 5",
                        data: {{block2Draw5}},
                        showLine: false,
                        borderColor: "rgba(114, 21, 201, 0.8)",
                        backgroundColor: "#9400D3", //dark violet
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 6",
                        data: {{block2Draw6}},
                        showLine: false,
                        borderColor: "rgba(42, 163, 30, 0.8)",
                        backgroundColor: "#ADFF2F", //greenyellow
                        pointRadius: 8,
                        
                        },

                        {
                        
                        label: "Cluster 7",
                        data: {{block2Draw7}},
                        showLine: false,
                        borderColor: "rgba(33, 14, 233, 0.8)",
                        backgroundColor: "#1E90FF", //indigo
                        pointRadius: 8,
                        
                        },

                        {

                        label: "Cluster 8",
                        data: {{block2Draw8}},
                        showLine: false,
                        borderColor: "rgba(249, 0, 147, 0.8)",
                        backgroundColor: "#FF00FF", //magenta
                        pointRadius: 8,
                        
                        },

                        {% endif %}

                        // {
                        
                        // label: "Cluster 9",
                        // data: {{block2Draw9}},
                        // showLine: false,
                        // borderColor: "rgba(242, 89, 18, 0.8)",
                        // backgroundColor: "#4169E1", //royal blue
                        // pointRadius: 8,
                        
                        // },


                                  ]
                          },

                        options: {
                            scales: {
                                yAxes: [{
                                    scaleLabel: {
                                    display: true,
                                    labelString: "{{yaxis2D}}"
                                  }
                                }],

                                xAxes: [{
                                    scaleLabel: {
                                    display: true,
                                    labelString: "{{xaxis2D}}"
                                  }
                                }]
                            }
                        }
                        
                        });
                    
                    </script>

                    <br>
                    <!-- <div class="container-fluid"> -->
                              <div style="font-size: 11pt;">
                              <div class="row justify-content-center">
                      
                                  <label class="mdb-main-label">Kmeans Cluster Multivariable Classification</label>
                                  <!-- <table style="margin: 0 auto; text-align:center;"> -->
                                  
                                      {% for tablet in tables %}
                                  
                                          {{ tablet|safe }}
                                      
                                      {% endfor %}
                              <!-- </table> -->
                              </div>
                              </div>
                             <!--  </div> -->

                  </div>


                  <!-- <div class="row"> -->
                    <div class="col-md-4">

                    <!-- Plotly chart will be drawn inside this DIV -->
                    <!-- <p>{{title3D}}</p> -->

                      <!-- <div id="myDiv" style="width:50%; height:50%;"></div> -->

                      <div id="myDiv"></div>
                        <!-- <button type="button" class="button" id="this_button">Click here for update</button> -->
                      <script>
                      /* JAVASCRIPT CODE GOES HERE */

                        var trace1 = {
                                x : {{awlistx1}},
                                y: {{awlisty1}},
                                z : {{awlistz1}},
                                mode: 'markers',
                                name: 'Cluster 1',
                                marker: {
                                  size: 9,
                                  //line: {
                                    color: "green",
                                    //width: 0.5,
                                  //},
                                  colorscale: 'Viridis',
                                  opacity: 0.8
                                },
                                type: 'scatter3d'
                              };

                        var trace2 = {
                                x : {{awlistx2}},
                                y: {{awlisty2}},
                                z : {{awlistz2}},
                                mode: 'markers',
                                name: 'Cluster 2',
                                marker: {
                                  size: 9,
                                  //line: {
                                    color: "red",
                                    //width: 0.5,
                                  //},
                                  colorscale: 'Viridis',
                                  opacity: 0.8
                                },
                                type: 'scatter3d'
                              };

                        var trace3 = {
                                x : {{awlistx3}},
                                y: {{awlisty3}},
                                z : {{awlistz3}},
                                mode: 'markers',
                                name: 'Cluster 3',
                                marker: {
                                  size: 9,
                                  //line: {
                                    color: "blue",
                                    //width: 0.5,
                                  //},
                                  colorscale: 'Viridis',
                                  opacity: 0.8
                                },
                                type: 'scatter3d'
                              };

                          var trace4 = {
                                x : {{awlistx4}},
                                y: {{awlisty4}},
                                z : {{awlistz4}},
                                mode: 'markers',
                                name: 'Cluster 4',
                                marker: {
                                  size: 9,
                                  //line: {
                                    color: "#FF8C00",
                                    //width: 0.5,
                                  //},
                                  colorscale: 'Viridis',
                                  opacity: 0.8
                                },
                                type: 'scatter3d'
                              };

                          var trace5 = {
                                x : {{awlistx5}},
                                y: {{awlisty5}},
                                z : {{awlistz5}},
                                mode: 'markers',
                                name: 'Cluster 5',
                                marker: {
                                  size: 9,
                                  //line: {
                                    color: "#9400D3",
                                    //width: 0.5,
                                  //},
                                  colorscale: 'Viridis',
                                  opacity: 0.8
                                },
                                type: 'scatter3d'
                              };

                          var trace6 = {
                                x : {{awlistx6}},
                                y: {{awlisty6}},
                                z : {{awlistz6}},
                                mode: 'markers',
                                name: 'Cluster 6',
                                marker: {
                                  size: 9,
                                  //line: {
                                    color: "#ADFF2F",
                                    //width: 0.5,
                                  //},
                                  colorscale: 'Viridis',
                                  opacity: 0.8
                                },
                                type: 'scatter3d'
                              };

                          var trace7 = {
                                x : {{awlistx7}},
                                y: {{awlisty7}},
                                z : {{awlistz7}},
                                mode: 'markers',
                                name: 'Cluster 7',
                                marker: {
                                  size: 9,
                                  //line: {
                                    color: "#1E90FF",
                                    //width: 0.5,
                                  //},
                                  colorscale: 'Viridis',
                                  opacity: 0.8
                                },
                                type: 'scatter3d'
                              };

                          var trace8 = {
                                x : {{awlistx8}},
                                y: {{awlisty8}},
                                z : {{awlistz8}},
                                mode: 'markers',
                                name: 'Cluster 8',
                                marker: {
                                  size: 9,
                                  //line: {
                                    color: "#FF00FF",
                                    //width: 0.5,
                                  //},
                                  colorscale: 'Viridis',
                                  opacity: 0.8
                                },
                                type: 'scatter3d'
                              };

                          var tracecentroid = {
                                x : {{ctrdx}},
                                y: {{ctrdy}},
                                z : {{ctrdz}},
                                mode: 'markers',
                                name: 'Centroids',
                                marker: {
                                  size: 14,
                                  //line: {
                                    color: "black",
                                    //width: 0.5,
                                  //},
                                  colorscale: 'Viridis',
                                  opacity: 0.7
                                },
                                type: 'scatter3d'
                              };

                        // var tracecentroid = {
                        //   x : {{ctrdx}},
                        //   y: {{ctrdy}},
                        //   z : {{ctrdz}},
                        //   mode: 'markers',
                        //   marker: {
                        //     size: 12,
                        //     line: {
                        //       color: 'rgba(217, 217, 217, 0.14)',
                        //       width: 0.5
                        //     },
                        //     opacity: 0.8
                        //   },
                        //   type: 'scatter3d'
                        // };

                              // var trace4 = {
                              //   x : [1],
                              //   y: [3],
                              //   z : [4],
                              //   mode: 'markers',
                              //   marker: {
                              //     size: 8,
                              //     line: {
                              //       color: 'rgba(217, 217, 217, 0.14)',
                              //       width: 0.5
                              //     },
                              //      mode : 'markers',
                              //     opacity: 0.8
                              //   },
                              //   type: 'scatter3d'
                              // };

                              // var trace2 = {
                              //   x : [2],
                              //   y: [2],
                              //   z : [2],
                              //   mode: 'markers',
                              //   marker: {
                              //     size: 15,
                              //     line: {
                              //       color: 'rgba(217, 217, 217, 0.14)',
                              //       width: 0.5
                              //     },
                              //     opacity: 0.8
                              //   },
                              //   type: 'scatter3d'
                              // };

                              // var trace3 = {
                              //   x : [1],
                              //   y: [1],
                              //   z : [1],
                              //   mode: 'markers',
                              //   marker: {
                              //     size: 12,
                              //     line: {
                              //       color: 'rgba(217, 217, 217, 0.14)',
                              //       width: 0.5
                              //     },
                              //     opacity: 0.8
                              //   },
                              //   type: 'scatter3d'
                              // };

                              var data = [trace1, trace2, trace3, trace4, trace5, trace6, trace7, trace8, tracecentroid];
                              var layout = {


                                        title: {
                                          text:'{{title3D}}',
                                          font: {
                                            family: 'Rubik, monospace',
                                            size: 11    //24
                                          },
                                          xref: 'paper',
                                          x: 0.05,
                                        },

                                      
                                              scene: {
                                                  xaxis:{title: "x: {{xaxislabel}}"},
                                                  yaxis:{title: "y: {{yaxislabel}}"},
                                                  zaxis:{title: "z: {{zaxislabel}}"},
                                                  },

                                                //autosize: false,
                                                width: 680,
                                                height: 680,
                                                //margin: {
                                                 //l: 5,
                                                 //r: 5,
                                                 //b: 5,
                                                 //t: 5,
                                                 //pad: 8
                                                //},
                                              
    
                                        // xaxis: {
                                        //   title: {
                                        //     text: '{{xaxislabel}}',
                                        //     font: {
                                        //       family: 'Rubik, monospace',
                                        //       size: 18,
                                        //       color: '#7f7f7f'
                                        //     }
                                        //   },
                                        // },

                                        // yaxis: {
                                        //   title: {
                                        //     text: '{{yaxislabel}}',
                                        //     font: {
                                        //       family: 'Rubik, monospace',
                                        //       size: 18,
                                        //       color: '#7f7f7f'
                                        //     }
                                        //   }
                                        // },

                                        // zaxis: {
                                        //   title: {
                                        //     text: '{{zaxislabel}}',
                                        //     font: {
                                        //       family: 'Rubik, monospace',
                                        //       size: 18,
                                        //       color: '#7f7f7f'
                                        //     }
                                        //   }
                                        // },

                                      // scene = {
                                      //   xaxis_title="{{xaxislabel}}",
                                      //   yaxis_title="{{yaxislabel}}",
                                      //   zaxis_title="{{zaxislabel}}"},

                                //   margin: {
                                //   l: 0,
                                //   r: 0,
                                //   b: 0,
                                //   t: 0
                                // },


                              };     
                              Plotly.newPlot('myDiv', data, layout);

                              // $("#this_button").click(function(){
                              //   console.log("clicked");
                              //   var update = {
                              //           x : [[1,2,3,4,5]],
                              //           y : [[1,2,3,4,5]],
                              //           z : [[1,2,3,4,5]],
                              //           size :[[12,13,14,15,16]],
                              //           'marker.color' : [["#001","#005","#0f0","#f00","#00f"]],
                              //            text : "size"
                              //       }
                                    
                              //        Plotly.restyle('myDiv', update,[0,1,2,3,4]);
                              // });

                      </script>

                      <br><br>

                  </div>

                  <!-- </div> --> <!-- end row -->
                  
            <!-- </div> -->

            </div>

                              


      {% endif %}

      {% if modelname == "Linear Regression" %}



            <div class="row">

              {% for n in lister %}              

              <div class="col-md-6">

                <canvas id="{{n}}"></canvas>
                    
                <script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("{{n}}").getContext("2d");

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart2 = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        {% if lister.index(n) >= 0 %}

                        {
                        
                        label: "{{n}}",
                        data: {{block[lister.index(n)]}},
                        showLine: false,
                        borderColor: "{{colorlist[lister.index(n)]}}",
                        backgroundColor: "{{rgbalist[lister.index(n)]}}",
                        pointRadius: 6
                        
                        },

                        {% if pointflag == true %}

                        {
                        
                        label: "Intersection Point",
                        data: {{newpointlist[lister.index(n)]}},
                        showLine: false,
                        borderColor: "black",
                        backgroundColor: "black",
                        pointRadius: 8
                        
                        },

                        {% endif %}

                        {% if slicerflag == true %}

                        {

                        label: "Intersecting Line",
                        data: {{newslicerlistall[lister.index(n)]}},
                        showLine: true,
                        borderColor: "red",
                        //xAxisID: "Aline",
                        //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        //pointRadius: 3
                        type: 'line',
                        

                        },

                        {% endif %}

                        {

                        label: "Linear Regression Line",
                        data: {{blockline[lister.index(n)]}},
                        showLine: true,
                        borderColor: "grey",
                        //xAxisID: "Aline",
                        //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        //pointRadius: 3
                        type: 'line',
                        

                        },

                        {% endif %}
                        
                                  ]
                          },

                        options: {

                            elements: {
                              point: {
                                //radius: 1,
                                hoverRadius: 5,
                              },
                            },

                            // hover: {
                            //   mode: 'index',
                            //   intersect: true          
                            // },

                            scales: {


                                    x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{labelxy[lister.index(n)][0]}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      }
                                    },

                                    {% if yflag == false %}
                                      y: {
                                        display: true,
                                        title: {
                                          display: true,
                                          text: "{{xitem}}",
                                          color: '#911', //191
                                          font: {
                                            family: 'Arial',
                                            size: 15,
                                            style: 'normal',
                                            lineHeight: 1.2
                                          },
                                          padding: {top: 0, left: 0, right: 0, bottom: 0}
                                        }
                                      },

                                    {% elif yflag == true %}                                      

                                      y: {
                                        display: true,
                                        title: {
                                          display: true,
                                          text: "{{labelxy[lister.index(n)][1]}}",
                                          color: '#911', //191
                                          font: {
                                            family: 'Arial',
                                            size: 15,
                                            style: 'normal',
                                            lineHeight: 1.2
                                          },
                                          padding: {top: 0, left: 0, right: 0, bottom: 0}
                                        }
                                      }

                                    {% endif %}


                                // y: {
                                //   type: 'category',
                                //   position: 'right',
                                //   labels: []
                                // },


                                // yAxes: [{
                                //     scaleLabel: {
                                //     display: true,
                                //     labelString: "{{labelxy[lister.index(n)][1]}}"
                                //   }
                                // }],

                                // xAxes: [{
                                //     scaleLabel: {
                                //     display: true,
                                //     labelString: "{{labelxy[lister.index(n)][0]}}"
                                //   }
                                // }]
                            }
                        }
                        
                        });
                    
                </script>

                <!-- <div id="graphDiv"></div>

                <script>



                var data = [
                {x: bb, y: ss, type:'scatter', mode:"markers"},
                ];

                var layout = {
                  title: 'Sales Growth',
                  xaxis: {
                    title: 'Year',
                    showgrid: false,
                    zeroline: false
                  },
                  yaxis: {
                    title: 'Percent',
                    showline: false
                  }
                };
                Plotly.newPlot(graphDiv, data, layout);

              </script> -->


              </div>              

              {% endfor %}

          </div>

              <br><br>
              
              <div class="row">

                <div class="col-md-4">

                  <div class="card">
                  <div class="card-body">

                    <label>Select X Variable: </label>
                        <select name="xitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in lister %}
                                            {% if item == xitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>


                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findxlr" value="{{findxlr}}">
                        <br><br>
                        
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_xlr" value="Find the Optimum Y Label/Target">
                        <br><br><br>


                    <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        

                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_ylr" value="Find the Optimum X Inputs">

                        

                  </div>
                  </div>

                  <!-- <div class="card">
                  <div class="card-body">

                        <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        <br>

                        <label>Enter the desired value for the above selection: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button>
                        <input type="submit" class="btn btn-success btn-sm" name="confirmylr" value="Find the optimum parameters using LR">

                  </div>
                  </div> -->

                </div>



                <div class="col-md-4">

               

                 

                  <div class="card">
                  <div class="card-body">

                        
                        <table>
                          
                           {% for rows in datframe %}

                           <H5>{{rows | safe}}</H5>

                           {% endfor %}


                        </table>


                  </div>
                  </div>

                </div>


                    <!-- <canvas id="e"></canvas>
                    <script>

                      var ctx0 = $("#e");
                      var myChart0 = new Chart(ctx0, {
                        type: 'line',
                        data: {
                          labels: [{% for item in xx %}
                                   "{{item}}",
                                  {% endfor %}],
                          datasets: [{
                            label: '# of Votes',
                            xAxisID:'xAxis1',
                            data: [{% for item in yy %}
                                    {{item}},
                                  {% endfor %}],
                          }]
                        },
                        options:{
                          scales:{
                            xAxes:[
                              {
                                id:'xAxis1',
                                type:"category",
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    return month;
                                  }
                                }
                              },
                              {
                                id:'xAxis2',
                                type:"category",
                                gridLines: {
                                  drawOnChartArea: false, // only want the grid lines for one axis to show up
                                },
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    if(month === "February"){
                                      return year;
                                    }else{
                                      return "";
                                    }
                                  }
                                }
                              }],
                            yAxes:[{
                              ticks:{
                                beginAtZero:true
                              }
                            }]
                          }
                        }
                      });
                                         
                                    
                                    
                    </script>  -->

              </div>   <!-- close row -->

            
           <!--  </div> -->
    

      {% endif %} 

      {% if modelname == "Logistic Regression" %}

            <div class="row">

                

              {% for n in lister %}              

              <div class="col-md-6">

                <canvas id="{{n}}"></canvas>
                    
                <script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("{{n}}").getContext("2d");

                  

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart2 = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        {% if lister.index(n) >= 0 %}

                        // {
                        
                        // label: "{{n}} [FITTED: xtrain|ytrain]",
                        // data: {{block[lister.index(n)]}},
                        // showLine: false,
                        // borderColor: "{{colorlist[lister.index(n)]}}",
                        // backgroundColor: "{{rgbalist[lister.index(n)]}}",
                        // pointRadius: 6
                        
                        // },

                        {% if pointflag == true %}

                        {
                        
                        label: "Predicted Points [PREDICT XTEST]",
                        data: {{xyblockcurve4[lister.index(n)] | safe}},
                        showLine: false,
                        borderColor: "black",
                        backgroundColor: "{{rgbalist[lister.index(n)]}}",
                        pointRadius: 8
                        
                        },

                        {% if n == xitem %}

                        {
                        
                        label: "Your Selected Point",
                        data: {{pointerstr[0] | safe}},
                        showLine: false,
                        borderColor: "black",
                        backgroundColor: "black",
                        pointRadius: 11
                        
                        },

                        {% endif %}

                        {% endif %}

                        

                        //{

                        //label: "Linear Regression Line",
                        //data: {{blockline[lister.index(n)]}},
                        //showLine: true,
                        //borderColor: "grey",
                        //xAxisID: "Aline",
                        //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        //pointRadius: 3
                        //type: 'line',
                        

                        //},

                        

                        {% if slicerflag == true %}

                        

                        // {

                        // label: "Predicted (numerical)", //"xtest | ytest data",
                        // data: {{xyblockcurve2[lister.index(n)]}},
                        // showLine: false,
                        // borderColor: "{{colorlist_ytest[lister.index(n)]}}",
                        // backgroundColor: "{{rgbalist_ytest[lister.index(n)]}}",
                        // pointRadius: 6,
                        // yAxisID: "y2",
                        
                        // //xAxisID: "Aline",
                        // //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        // //pointRadius: 3
                        // //type: 'line',
                        

                        // },

                        {

                        label: "xtest | ytest data (r)",
                        data: {{xyblockcurve3[lister.index(n)] | safe}},
                        showLine: false,
                        borderColor: "{{colorlist_ytest[lister.index(n)]}}",
                        backgroundColor: "{{rgbalist_ytest[lister.index(n)]}}",
                        pointRadius: 6
                        //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        //pointRadius: 3
                        //type: 'line',
                        

                        },

                        // {

                        // label: "Logistic line",
                        // data: {{xyblockcurve1[lister.index(n)]}},
                        // showLine: false,
                        // borderColor: "blue",
                        // yAxisID: "y2",
                        // //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        // //pointRadius: 3
                        // type: 'line',

                        // },


                        {% endif %}

                        {% endif %}
                        
                                  ]
                          },

                        options: {

                            elements: {
                              point: {
                                //radius: 1,
                                hoverRadius: 5,
                              },
                            },

                            // hover: {
                            //   mode: 'index',
                            //   intersect: true          
                            // },

                            scales: {


                                x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{n}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      }
                                    },

                                y: {
                                  type: "category",
                                  display: true,
                                  title: {
                                    display: true,
                                    text: "{{ycolumn[0]}}",
                                    color: '#911', //191
                                    font: {
                                      family: 'Arial',
                                      size: 15,
                                      style: 'normal',
                                      lineHeight: 1.2
                                    },
                                    padding: {top: 0, left: 0, right: 0, bottom: 0}
                                  }
                                },

                                // y2: {
                                //   type: "linear",
                                //   position: "right",
                                //   display: true,
                                //   title: {
                                //     display: true,
                                //     text: "{{ycolumn[0]}} (numerical)",
                                //     color: '#911', //191
                                //     font: {
                                //       family: 'Arial',
                                //       size: 15,
                                //       style: 'normal',
                                //       lineHeight: 1.2
                                //     },
                                //     padding: {top: 0, left: 0, right: 0, bottom: 0}
                                //   }
                                // }



                                // yAxes: [{
                                //     scaleLabel: {
                                //     display: true,
                                //     labelString: "{{ycolumn[0]}}"
                                //   }
                                // }],

                                // xAxes: [{
                                //     scaleLabel: {
                                //     display: true,
                                //     labelString: "{{n}}"
                                //   }
                                // }]



                            }
                        }
                        
                        });
                    
                </script>

                <!-- <div id="graphDiv"></div>

                <script>



                var data = [
                {x: bb, y: ss, type:'scatter', mode:"markers"},
                ];

                var layout = {
                  title: 'Sales Growth',
                  xaxis: {
                    title: 'Year',
                    showgrid: false,
                    zeroline: false
                  },
                  yaxis: {
                    title: 'Percent',
                    showline: false
                  }
                };
                Plotly.newPlot(graphDiv, data, layout);

              </script> -->


              </div>              

              {% endfor %}

          </div>

              <br><br>
              
              <div class="row">

                <div class="col-md-4">

                  <div class="card">
                  <div class="card-body">

                    <label>Select X Variable: </label>
                        <select name="xitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in lister %}
                                            {% if item == xitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>


                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findxlr" value="{{findxlr}}">
                        <br><br>
                        
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_xlogr" value="Find the Optimum Y Label/Target">
                        <br><br><br>


                    <!-- <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        

                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> 
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_ylogr" value="Find the Optimum X Inputs"> -->

                        

                  </div>
                  </div>

                  <!-- <div class="card">
                  <div class="card-body">

                        <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        <br>

                        <label>Enter the desired value for the above selection: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button>
                        <input type="submit" class="btn btn-success btn-sm" name="confirmylr" value="Find the optimum parameters using LR">

                  </div>
                  </div> -->

                </div>



                <div class="col-md-4">

               

                 

                  <div class="card">
                  <div class="card-body">


                        <!-- <p>Classes (Y Axis): {{classlist}}</p>
                        <p>{{xitem}}: {{findxlr}}</p>
                        <p>{{ycolumn[0]}}: {{output}}</p> -->

                        <label>Results: </label>

                        {% for n in lister %}

                          {% if n == xitem %}

                            <p>Classes (Y Axis): {{classlist}}</p>
                            <p>{{n}}: {{pointList[0]}}</p>
                            <p>{{ycolumn[0]}}: {{pointList[1]}}</p>

                          {% endif %}

                        {% endfor %}
                        
                        <!-- <table>
                          
                           {% for rows in datframe %}

                           <H5>{{rows | safe}}</H5>

                           {% endfor %}


                        </table> -->


                  </div>
                  </div>

                </div>


                    <!-- <canvas id="e"></canvas>
                    <script>

                      var ctx0 = $("#e");
                      var myChart0 = new Chart(ctx0, {
                        type: 'line',
                        data: {
                          labels: [{% for item in xx %}
                                   "{{item}}",
                                  {% endfor %}],
                          datasets: [{
                            label: '# of Votes',
                            xAxisID:'xAxis1',
                            data: [{% for item in yy %}
                                    {{item}},
                                  {% endfor %}],
                          }]
                        },
                        options:{
                          scales:{
                            xAxes:[
                              {
                                id:'xAxis1',
                                type:"category",
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    return month;
                                  }
                                }
                              },
                              {
                                id:'xAxis2',
                                type:"category",
                                gridLines: {
                                  drawOnChartArea: false, // only want the grid lines for one axis to show up
                                },
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    if(month === "February"){
                                      return year;
                                    }else{
                                      return "";
                                    }
                                  }
                                }
                              }],
                            yAxes:[{
                              ticks:{
                                beginAtZero:true
                              }
                            }]
                          }
                        }
                      });
                                         
                                    
                                    
                    </script>  -->

              </div>   <!-- close row -->



              <div class="row">

                  <div class="col-lg-5">

                          <h4>X_Train Input Data</h4>
                            
                          {% for rows in Xdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Y_Train Target Data</h4>
                            
                          {% for rows in Ydf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

              </div>

              <div class="row">

                          <h4>X_Test Input Data</h4>
                            
                          {% for rows in XTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

              </div>

              <div class="row">

                  <div class="col-lg-5">

                          <h4>Y_Test Target Data</h4>
                            
                          {% for rows in YTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Predicted Data</h4>

                          {% for rows in PREDICTEDdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>
                      
              </div>

            
           <!--  </div> -->
    

      {% endif %} 

     



        {% if modelname == "Ridge Regression" %}



            <div class="row">

              {% for n in lister %}              

              <div class="col-md-6">

                <canvas id="{{n}}"></canvas>
                    
                <script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("{{n}}").getContext("2d");

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart2 = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        {% if lister.index(n) >= 0 %}

                        // {
                        
                        // label: "{{n}} [FITTED: xtrain|ytrain]",
                        // data: {{block[lister.index(n)]}},
                        // showLine: false,
                        // borderColor: "{{colorlist[lister.index(n)]}}",
                        // backgroundColor: "{{rgbalist[lister.index(n)]}}",
                        // pointRadius: 6
                        
                        // },

                        {% if pointflag == true %}

                        {
                        
                        label: "Predicted Points [PREDICT XTEST]",
                        data: {{xyblockcurve2[lister.index(n)]}},
                        showLine: false,
                        borderColor: "black",
                        backgroundColor: "{{rgbalist[lister.index(n)]}}",
                        pointRadius: 8
                        
                        },


                        {% if n == xitem %}

                        {
                        
                        label: "Your Selected Point",
                        data: {{pointer[0]}},
                        showLine: false,
                        borderColor: "black",
                        backgroundColor: "black",
                        pointRadius: 12
                        
                        },

                        {% endif %}

                        {% endif %}

                        

                        

                        //{

                        //label: "Linear Regression Line",
                        //data: {{blockline[lister.index(n)]}},
                        //showLine: true,
                        //borderColor: "grey",
                        //xAxisID: "Aline",
                        //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        //pointRadius: 3
                        //type: 'line',
                        

                        //},

                        

                        {% if slicerflag == true %}

                        {

                        label: "xtest | ytest data",
                        data: {{xyblockcurve1[lister.index(n)]}},
                        showLine: false,
                        borderColor: "{{colorlist_ytest[lister.index(n)]}}",
                        backgroundColor: "{{rgbalist_ytest[lister.index(n)]}}",
                        pointRadius: 6
                        //xAxisID: "Aline",
                        //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        //pointRadius: 3
                        //type: 'line',
                        

                        },

                        // {

                        // label: "One",
                        // data: "{{xyblockcurve1[lister.index(n)]}}",
                        // showLine: true,
                        // borderColor: "blue",
                        // //xAxisID: "Aline",
                        // //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        // //pointRadius: 3
                        // type: 'line',

                        // },


                        {% endif %}

                        {% endif %}
                        
                                  ]
                          },

                        options: {

                            elements: {
                              point: {
                                //radius: 1,
                                hoverRadius: 5,
                              },
                            },

                            // hover: {
                            //   mode: 'index',
                            //   intersect: true          
                            // },

                            scales: {
                                x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{n}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      }
                                    },

                                y: {
                                  display: true,
                                  title: {
                                    display: true,
                                    text: "{{ycolumn[0]}}",
                                    color: '#911', //191
                                    font: {
                                      family: 'Arial',
                                      size: 15,
                                      style: 'normal',
                                      lineHeight: 1.2
                                    },
                                    padding: {top: 0, left: 0, right: 0, bottom: 0}
                                  }
                                }
                            }
                        }
                        
                        });
                    
                </script>

                <!-- <div id="graphDiv"></div>

                <script>



                var data = [
                {x: bb, y: ss, type:'scatter', mode:"markers"},
                ];

                var layout = {
                  title: 'Sales Growth',
                  xaxis: {
                    title: 'Year',
                    showgrid: false,
                    zeroline: false
                  },
                  yaxis: {
                    title: 'Percent',
                    showline: false
                  }
                };
                Plotly.newPlot(graphDiv, data, layout);

              </script> -->


              </div>              

              {% endfor %}

          </div>

              <br><br>
              
              <div class="row">

                <div class="col-md-4">

                  <div class="card">
                  <div class="card-body">

                    <label>Select X Variable: </label>
                        <select name="xitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in lister %}
                                            {% if item == xitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>


                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findxlr" value="{{findxlr}}">
                        <br><br>
                        
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_xridge" value="Find the Optimum Y Label/Target">
                        <br><br><br>


                    <!-- <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        

                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> 
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_ylogr" value="Find the Optimum X Inputs"> -->

                        

                  </div>
                  </div>

                  <!-- <div class="card">
                  <div class="card-body">

                        <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        <br>

                        <label>Enter the desired value for the above selection: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button>
                        <input type="submit" class="btn btn-success btn-sm" name="confirmylr" value="Find the optimum parameters using LR">

                  </div>
                  </div> -->

                </div>



                <div class="col-md-4">

               

                 

                  <div class="card">
                  <div class="card-body">


                        <!-- <p>{{xitem}}: {{findxlr}}</p>
                        <p>{{ycolumn[0]}}: {{output}}</p> -->

                        <label>Results: </label>

                        {% for n in lister %}

                          {% if n == xitem %}

                            <p>{{n}}: {{pointList[0]}}</p>
                            <p>{{ycolumn[0]}}: {{pointList[1]}}</p>

                          {% endif %}

                        {% endfor %}
                        
                        <!-- <table>
                          
                           {% for rows in datframe %}

                           <H5>{{rows | safe}}</H5>

                           {% endfor %}


                        </table> -->


                  </div>
                  </div>

                </div>


                    <!-- <canvas id="e"></canvas>
                    <script>

                      var ctx0 = $("#e");
                      var myChart0 = new Chart(ctx0, {
                        type: 'line',
                        data: {
                          labels: [{% for item in xx %}
                                   "{{item}}",
                                  {% endfor %}],
                          datasets: [{
                            label: '# of Votes',
                            xAxisID:'xAxis1',
                            data: [{% for item in yy %}
                                    {{item}},
                                  {% endfor %}],
                          }]
                        },
                        options:{
                          scales:{
                            xAxes:[
                              {
                                id:'xAxis1',
                                type:"category",
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    return month;
                                  }
                                }
                              },
                              {
                                id:'xAxis2',
                                type:"category",
                                gridLines: {
                                  drawOnChartArea: false, // only want the grid lines for one axis to show up
                                },
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    if(month === "February"){
                                      return year;
                                    }else{
                                      return "";
                                    }
                                  }
                                }
                              }],
                            yAxes:[{
                              ticks:{
                                beginAtZero:true
                              }
                            }]
                          }
                        }
                      });
                                         
                                    
                                    
                    </script>  -->

              </div>   <!-- close row -->

              <div class="row">

                  <div class="col-lg-5">

                          <h4>X_Train Input Data</h4>
                            
                          {% for rows in Xdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Y_Train Target Data</h4>
                            
                          {% for rows in Ydf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

              </div>

              <div class="row">

                          <h4>X_Test Input Data</h4>
                            
                          {% for rows in XTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

              </div>

              <div class="row">

                  <div class="col-lg-5">

                          <h4>Y_Test Target Data</h4>
                            
                          {% for rows in YTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Predicted Data</h4>

                          {% for rows in PREDICTEDdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>
                      
              </div>

            
           <!--  </div> -->
    

      {% endif %}   

     

      {% if modelname == "Lasso Regression" %}



            <div class="row">

              {% for n in lister %}              

              <div class="col-md-6">

                <canvas id="{{n}}"></canvas>
                    
                <script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("{{n}}").getContext("2d");

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart2 = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        {% if lister.index(n) >= 0 %}

                        // {
                        
                        // label: "{{n}} [FITTED: xtrain|ytrain]",
                        // data: {{block[lister.index(n)]}},
                        // showLine: false,
                        // borderColor: "{{colorlist[lister.index(n)]}}",
                        // backgroundColor: "{{rgbalist[lister.index(n)]}}",
                        // pointRadius: 6
                        
                        // },

                        {% if pointflag == true %}

                        {
                        
                        label: "Predicted Points [PREDICT XTEST]",
                        data: {{xyblockcurve2[lister.index(n)]}},
                        showLine: false,
                        borderColor: "black",
                        backgroundColor: "{{rgbalist[lister.index(n)]}}",
                        pointRadius: 8
                        
                        },


                        {% if n == xitem %}

                        {
                        
                        label: "Your Selected Point",
                        data: {{pointer[0]}},
                        showLine: false,
                        borderColor: "black",
                        backgroundColor: "black",
                        pointRadius: 12
                        
                        },

                        {% endif %}

                        {% endif %}

                        

                        

                        //{

                        //label: "Linear Regression Line",
                        //data: {{blockline[lister.index(n)]}},
                        //showLine: true,
                        //borderColor: "grey",
                        //xAxisID: "Aline",
                        //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        //pointRadius: 3
                        //type: 'line',
                        

                        //},

                        

                        {% if slicerflag == true %}

                        {

                        label: "xtest | ytest data",
                        data: {{xyblockcurve1[lister.index(n)]}},
                        showLine: false,
                        borderColor: "{{colorlist_ytest[lister.index(n)]}}",
                        backgroundColor: "{{rgbalist_ytest[lister.index(n)]}}",
                        pointRadius: 6
                        //xAxisID: "Aline",
                        //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        //pointRadius: 3
                        //type: 'line',
                        

                        },

                        // {

                        // label: "One",
                        // data: "{{xyblockcurve1[lister.index(n)]}}",
                        // showLine: true,
                        // borderColor: "blue",
                        // //xAxisID: "Aline",
                        // //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        // //pointRadius: 3
                        // type: 'line',

                        // },


                        {% endif %}

                        {% endif %}
                        
                                  ]
                          },

                        options: {

                            elements: {
                              point: {
                                //radius: 1,
                                hoverRadius: 5,
                              },
                            },

                            // hover: {
                            //   mode: 'index',
                            //   intersect: true          
                            // },

                            scales: {
                                x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{n}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      }
                                    },

                                y: {
                                  display: true,
                                  title: {
                                    display: true,
                                    text: "{{ycolumn[0]}}",
                                    color: '#911', //191
                                    font: {
                                      family: 'Arial',
                                      size: 15,
                                      style: 'normal',
                                      lineHeight: 1.2
                                    },
                                    padding: {top: 0, left: 0, right: 0, bottom: 0}
                                  }
                                }
                            }
                        }
                        
                        });
                    
                </script>

                <!-- <div id="graphDiv"></div>

                <script>



                var data = [
                {x: bb, y: ss, type:'scatter', mode:"markers"},
                ];

                var layout = {
                  title: 'Sales Growth',
                  xaxis: {
                    title: 'Year',
                    showgrid: false,
                    zeroline: false
                  },
                  yaxis: {
                    title: 'Percent',
                    showline: false
                  }
                };
                Plotly.newPlot(graphDiv, data, layout);

              </script> -->


              </div>              

              {% endfor %}

          </div>

              <br><br>
              
              <div class="row">

                <div class="col-md-4">

                  <div class="card">
                  <div class="card-body">

                    <label>Select X Variable: </label>
                        <select name="xitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in lister %}
                                            {% if item == xitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>


                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findxlr" value="{{findxlr}}">
                        <br><br>
                        
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_xlassor" value="Find the Optimum Y Label/Target">
                        <br><br><br>


                    <!-- <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        

                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> 
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_ylogr" value="Find the Optimum X Inputs"> -->

                        

                  </div>
                  </div>

                  <!-- <div class="card">
                  <div class="card-body">

                        <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        <br>

                        <label>Enter the desired value for the above selection: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button>
                        <input type="submit" class="btn btn-success btn-sm" name="confirmylr" value="Find the optimum parameters using LR">

                  </div>
                  </div> -->

                </div>



                <div class="col-md-4">

               

                 

                  <div class="card">
                  <div class="card-body">


                        <!-- <p>{{xitem}}: {{findxlr}}</p>
                        <p>{{ycolumn[0]}}: {{output}}</p> -->

                        <label>Results: </label>

                        {% for n in lister %}

                          {% if n == xitem %}

                            <p>{{n}}: {{pointList[0]}}</p>
                            <p>{{ycolumn[0]}}: {{pointList[1]}}</p>

                          {% endif %}

                        {% endfor %}
                        
                        <!-- <table>
                          
                           {% for rows in datframe %}

                           <H5>{{rows | safe}}</H5>

                           {% endfor %}


                        </table> -->


                  </div>
                  </div>

                </div>


                    <!-- <canvas id="e"></canvas>
                    <script>

                      var ctx0 = $("#e");
                      var myChart0 = new Chart(ctx0, {
                        type: 'line',
                        data: {
                          labels: [{% for item in xx %}
                                   "{{item}}",
                                  {% endfor %}],
                          datasets: [{
                            label: '# of Votes',
                            xAxisID:'xAxis1',
                            data: [{% for item in yy %}
                                    {{item}},
                                  {% endfor %}],
                          }]
                        },
                        options:{
                          scales:{
                            xAxes:[
                              {
                                id:'xAxis1',
                                type:"category",
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    return month;
                                  }
                                }
                              },
                              {
                                id:'xAxis2',
                                type:"category",
                                gridLines: {
                                  drawOnChartArea: false, // only want the grid lines for one axis to show up
                                },
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    if(month === "February"){
                                      return year;
                                    }else{
                                      return "";
                                    }
                                  }
                                }
                              }],
                            yAxes:[{
                              ticks:{
                                beginAtZero:true
                              }
                            }]
                          }
                        }
                      });
                                         
                                    
                                    
                    </script>  -->

              </div>   <!-- close row -->

            
           <!--  </div> -->

           <div class="row">

                  <div class="col-lg-5">

                          <h4>X_Train Input Data</h4>
                            
                          {% for rows in Xdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Y_Train Target Data</h4>
                            
                          {% for rows in Ydf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

              </div>

              <div class="row">

                          <h4>X_Test Input Data</h4>
                            
                          {% for rows in XTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

              </div>

              <div class="row">

                  <div class="col-lg-5">

                          <h4>Y_Test Target Data</h4>
                            
                          {% for rows in YTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Predicted Data</h4>

                          {% for rows in PREDICTEDdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>
                      
              </div>
    

      {% endif %}      

      {% if modelname == "ElasticNet Regression" %}



            <div class="row">

              {% for n in lister %}              

              <div class="col-md-6">

                <canvas id="{{n}}"></canvas>
                    
                <script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("{{n}}").getContext("2d");

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart2 = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        {% if lister.index(n) >= 0 %}

                        // {
                        
                        // label: "{{n}} [FITTED: xtrain|ytrain]",
                        // data: {{block[lister.index(n)]}},
                        // showLine: false,
                        // borderColor: "{{colorlist[lister.index(n)]}}",
                        // backgroundColor: "{{rgbalist[lister.index(n)]}}",
                        // pointRadius: 6
                        
                        // },

                        {% if pointflag == true %}

                        {
                        
                        label: "Predicted Points [PREDICT XTEST]",
                        data: {{xyblockcurve2[lister.index(n)]}},
                        showLine: false,
                        borderColor: "black",
                        backgroundColor: "{{rgbalist[lister.index(n)]}}",
                        pointRadius: 8
                        
                        },


                        {% if n == xitem %}

                        {
                        
                        label: "Your Selected Point",
                        data: {{pointer[0]}},
                        showLine: false,
                        borderColor: "black",
                        backgroundColor: "black",
                        pointRadius: 12
                        
                        },

                        {% endif %}

                        {% endif %}

                        

                        

                        //{

                        //label: "Linear Regression Line",
                        //data: {{blockline[lister.index(n)]}},
                        //showLine: true,
                        //borderColor: "grey",
                        //xAxisID: "Aline",
                        //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        //pointRadius: 3
                        //type: 'line',
                        

                        //},

                        

                        {% if slicerflag == true %}

                        {

                        label: "xtest | ytest data",
                        data: {{xyblockcurve1[lister.index(n)]}},
                        showLine: false,
                        borderColor: "{{colorlist_ytest[lister.index(n)]}}",
                        backgroundColor: "{{rgbalist_ytest[lister.index(n)]}}",
                        pointRadius: 6
                        //xAxisID: "Aline",
                        //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        //pointRadius: 3
                        //type: 'line',
                        

                        },

                        // {

                        // label: "One",
                        // data: "{{xyblockcurve1[lister.index(n)]}}",
                        // showLine: true,
                        // borderColor: "blue",
                        // //xAxisID: "Aline",
                        // //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        // //pointRadius: 3
                        // type: 'line',

                        // },


                        {% endif %}

                        {% endif %}
                        
                                  ]
                          },

                        options: {

                            elements: {
                              point: {
                                //radius: 1,
                                hoverRadius: 5,
                              },
                            },

                            // hover: {
                            //   mode: 'index',
                            //   intersect: true          
                            // },

                            scales: {
                                x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{n}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      }
                                    },

                                y: {
                                  display: true,
                                  title: {
                                    display: true,
                                    text: "{{ycolumn[0]}}",
                                    color: '#911', //191
                                    font: {
                                      family: 'Arial',
                                      size: 15,
                                      style: 'normal',
                                      lineHeight: 1.2
                                    },
                                    padding: {top: 0, left: 0, right: 0, bottom: 0}
                                  }
                                }
                            }
                        }
                        
                        });
                    
                </script>

                <!-- <div id="graphDiv"></div>

                <script>



                var data = [
                {x: bb, y: ss, type:'scatter', mode:"markers"},
                ];

                var layout = {
                  title: 'Sales Growth',
                  xaxis: {
                    title: 'Year',
                    showgrid: false,
                    zeroline: false
                  },
                  yaxis: {
                    title: 'Percent',
                    showline: false
                  }
                };
                Plotly.newPlot(graphDiv, data, layout);

              </script> -->


              </div>              

              {% endfor %}

          </div>

              <br><br>
              
              <div class="row">

                <div class="col-md-4">

                  <div class="card">
                  <div class="card-body">

                    <label>Select X Variable: </label>
                        <select name="xitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in lister %}
                                            {% if item == xitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>


                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findxlr" value="{{findxlr}}">
                        <br><br>
                        
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_xelasticr" value="Find the Optimum Y Label/Target">
                        <br><br><br>


                    <!-- <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        

                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> 
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_ylogr" value="Find the Optimum X Inputs"> -->

                        

                  </div>
                  </div>

                  <!-- <div class="card">
                  <div class="card-body">

                        <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        <br>

                        <label>Enter the desired value for the above selection: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button>
                        <input type="submit" class="btn btn-success btn-sm" name="confirmylr" value="Find the optimum parameters using LR">

                  </div>
                  </div> -->

                </div>



                <div class="col-md-4">

               

                 

                  <div class="card">
                  <div class="card-body">


                        <!-- <p>{{xitem}}: {{findxlr}}</p>
                        <p>{{ycolumn[0]}}: {{output}}</p> -->

                        <label>Results: </label>

                        {% for n in lister %}

                          {% if n == xitem %}

                            <p>{{n}}: {{pointList[0]}}</p>
                            <p>{{ycolumn[0]}}: {{pointList[1]}}</p>

                          {% endif %}

                        {% endfor %}

                        
                        <!-- <table>
                          
                           {% for rows in datframe %}

                           <H5>{{rows | safe}}</H5>

                           {% endfor %}


                        </table> -->


                  </div>
                  </div>

                </div>


                    <!-- <canvas id="e"></canvas>
                    <script>

                      var ctx0 = $("#e");
                      var myChart0 = new Chart(ctx0, {
                        type: 'line',
                        data: {
                          labels: [{% for item in xx %}
                                   "{{item}}",
                                  {% endfor %}],
                          datasets: [{
                            label: '# of Votes',
                            xAxisID:'xAxis1',
                            data: [{% for item in yy %}
                                    {{item}},
                                  {% endfor %}],
                          }]
                        },
                        options:{
                          scales:{
                            xAxes:[
                              {
                                id:'xAxis1',
                                type:"category",
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    return month;
                                  }
                                }
                              },
                              {
                                id:'xAxis2',
                                type:"category",
                                gridLines: {
                                  drawOnChartArea: false, // only want the grid lines for one axis to show up
                                },
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    if(month === "February"){
                                      return year;
                                    }else{
                                      return "";
                                    }
                                  }
                                }
                              }],
                            yAxes:[{
                              ticks:{
                                beginAtZero:true
                              }
                            }]
                          }
                        }
                      });
                                         
                                    
                                    
                    </script>  -->

              </div>   <!-- close row -->

              <div class="row">

                  <div class="col-lg-5">

                          <h4>X_Train Input Data</h4>
                            
                          {% for rows in Xdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Y_Train Target Data</h4>
                            
                          {% for rows in Ydf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

              </div>

              <div class="row">

                          <h4>X_Test Input Data</h4>
                            
                          {% for rows in XTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

              </div>

              <div class="row">

                  <div class="col-lg-5">

                          <h4>Y_Test Target Data</h4>
                            
                          {% for rows in YTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Predicted Data</h4>

                          {% for rows in PREDICTEDdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>
                      
              </div>
    
            
           <!--  </div> -->
    

      {% endif %}    

      {% if modelname == "Chained Regression" %}

            <!-- <label for="base_estimator_name">Select Base Estimator</label>
            <br>
            <select class="form-select" id="base_estimator_name" name="base_estimator_name">
            
                            {% for item in base_estimator_list %}
                              {% if base_estimator_name == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select>

            &nbsp;&nbsp;&nbsp;
            <input type="submit" class="btn btn-primary btn-sm" name="selected_base_estimator" value="Select"> -->

            <div class="row">

              {% for n in plotnames %}

              <div class="col-md-6">

                <canvas id="{{n[0]}}-{{n[1]}}"></canvas>
                    
                <script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("{{n[0]}}-{{n[1]}}").getContext("2d");

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart2 = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        {% if plotnames.index(n) >= 0 %}

                        // {
                        
                        // label: "{{n}} [FITTED: xtrain|ytrain]",
                        // data: {{block[plotnames.index(n)]}},
                        // showLine: false,
                        // borderColor: "{{colorlist[plotnames.index(n)]}}",
                        // backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                        // pointRadius: 6
                        
                        // },

                        {% if pointflag == true %}

                        {
                        
                        label: "Predicted Points [PREDICT XTEST]",
                        data: {{xyblockcurve2[plotnames.index(n)]}},
                        showLine: false,
                        borderColor: "black",
                        backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                        pointRadius: 8
                        
                        },


                        {% if n[0] == xitem %}

                        {
                        
                        label: "Your Selected Point",
                        data: {{pointer[0]}},
                        showLine: false,
                        borderColor: "black",
                        backgroundColor: "black",
                        pointRadius: 12
                        
                        },

                        {% endif %}

                        {% endif %}

                        

                        

                        //{

                        //label: "Linear Regression Line",
                        //data: {{blockline[plotnames.index(n)]}},
                        //showLine: true,
                        //borderColor: "grey",
                        //xAxisID: "Aline",
                        //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        //pointRadius: 3
                        //type: 'line',
                        

                        //},

                        

                        {% if slicerflag == true %}

                        {

                        label: "xtest | ytest data",
                        data: {{xyblockcurve1[plotnames.index(n)]}},
                        showLine: false,
                        borderColor: "{{colorlist_ytest[plotnames.index(n)]}}",
                        backgroundColor: "{{rgbalist_ytest[plotnames.index(n)]}}",
                        pointRadius: 6
                        //xAxisID: "Aline",
                        //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        //pointRadius: 3
                        //type: 'line',
                        

                        },

                        // {

                        // label: "One",
                        // data: "{{xyblockcurve1[plotnames.index(n)]}}",
                        // showLine: true,
                        // borderColor: "blue",
                        // //xAxisID: "Aline",
                        // //backgroundColor: "rgba(235, 19, 42, 0.8)",
                        // //pointRadius: 3
                        // type: 'line',

                        // },


                        {% endif %}

                        {% endif %}
                        
                                  ]
                          },

                        options: {

                            elements: {
                              point: {
                                //radius: 1,
                                hoverRadius: 5,
                              },
                            },

                            // hover: {
                            //   mode: 'index',
                            //   intersect: true          
                            // },

                            scales: {
                                x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{n[0]}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      }
                                    },

                                y: {
                                  display: true,
                                  title: {
                                    display: true,
                                    text: "{{n[1]}}",
                                    color: '#911', //191
                                    font: {
                                      family: 'Arial',
                                      size: 15,
                                      style: 'normal',
                                      lineHeight: 1.2
                                    },
                                    padding: {top: 0, left: 0, right: 0, bottom: 0}
                                  }
                                }
                            }
                        }
                        
                        });
                    
                </script>

                <!-- <div id="graphDiv"></div>

                <script>



                var data = [
                {x: bb, y: ss, type:'scatter', mode:"markers"},
                ];

                var layout = {
                  title: 'Sales Growth',
                  xaxis: {
                    title: 'Year',
                    showgrid: false,
                    zeroline: false
                  },
                  yaxis: {
                    title: 'Percent',
                    showline: false
                  }
                };
                Plotly.newPlot(graphDiv, data, layout);

              </script> -->


              </div>              

              {% endfor %}

          </div>

              <br><br>
              
              <div class="row">

                <div class="col-md-4">

                  <div class="card">
                  <div class="card-body">

                    <label>Select X Variable: </label>
                        <select name="xitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in lister %}
                                            {% if item == xitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>


                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findxlr" value="{{findxlr}}">
                        <br><br>
                        
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_xchainedr" value="Find the Optimum Y Label/Target">
                        <br><br><br>


                    <!-- <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        

                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> 
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_ylogr" value="Find the Optimum X Inputs"> -->

                        

                  </div>
                  </div>

                  <!-- <div class="card">
                  <div class="card-body">

                        <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        <br>

                        <label>Enter the desired value for the above selection: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button>
                        <input type="submit" class="btn btn-success btn-sm" name="confirmylr" value="Find the optimum parameters using LR">

                  </div>
                  </div> -->

                </div>



                <div class="col-md-4">

               

                 

                  <div class="card">
                  <div class="card-body">

                    <label>Results: </label>

                    {% for n in plotnames %}

                      {% if n[0] == xitem %}

                        <p>{{xitem}}: {{findxlr}}</p>
                        <p>Predicted value of {{n[1]}}: {{pointList[1]}}</p>

                      {% endif %}

                    {% endfor %}
                        
                        <!-- <table>
                          
                           {% for rows in datframe %}

                           <H5>{{rows | safe}}</H5>

                           {% endfor %}


                        </table> -->


                  </div>
                  </div>

                </div>


                    <!-- <canvas id="e"></canvas>
                    <script>

                      var ctx0 = $("#e");
                      var myChart0 = new Chart(ctx0, {
                        type: 'line',
                        data: {
                          labels: [{% for item in xx %}
                                   "{{item}}",
                                  {% endfor %}],
                          datasets: [{
                            label: '# of Votes',
                            xAxisID:'xAxis1',
                            data: [{% for item in yy %}
                                    {{item}},
                                  {% endfor %}],
                          }]
                        },
                        options:{
                          scales:{
                            xAxes:[
                              {
                                id:'xAxis1',
                                type:"category",
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    return month;
                                  }
                                }
                              },
                              {
                                id:'xAxis2',
                                type:"category",
                                gridLines: {
                                  drawOnChartArea: false, // only want the grid lines for one axis to show up
                                },
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    if(month === "February"){
                                      return year;
                                    }else{
                                      return "";
                                    }
                                  }
                                }
                              }],
                            yAxes:[{
                              ticks:{
                                beginAtZero:true
                              }
                            }]
                          }
                        }
                      });
                                         
                                    
                                    
                    </script>  -->

              </div>   <!-- close row -->

              <div class="row">

                  <div class="col-lg-5">

                          <h4>X_Train Input Data</h4>
                            
                          {% for rows in Xdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Y_Train Target Data</h4>
                            
                          {% for rows in Ydf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

              </div>

              <div class="row">

                          <h4>X_Test Input Data</h4>
                            
                          {% for rows in XTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

              </div>

              <div class="row">

                  <div class="col-lg-5">

                          <h4>Y_Test Target Data</h4>
                            
                          {% for rows in YTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Predicted Data</h4>

                          {% for rows in PREDICTEDdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>
                      
              </div>


           <!--  </div> -->
    

      {% endif %}

      {% if modelname == "Random Forest Classifier" %}

        <div class="row">

          <label for="n_estimator">Enter N Estimator</label>
            <br>
            <input type="text" name="n_estimator" value="{{n_estimator}}">
            <!-- <select class="form-select" id="n_estimator" name="n_estimator">
            
                            {% for item in n_estimator_list %}
                              {% if n_estimator == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select> -->
            &nbsp;&nbsp;&nbsp;
            <label for="max_depth">Enter Max Depth</label>
            <br>
            <input type="text" name="max_depth" value="{{max_depth}}">
            <!-- <select class="form-select" id="max_depth" name="max_depth">
            
                            {% for item in max_depth_list %}
                              {% if max_depth == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select> -->


            &nbsp;&nbsp;&nbsp;
            <input type="submit" class="btn btn-primary btn-sm" name="random_forest_classifier" value="Select">

        </div>

            <div class="row">

              <!-- <div id="myPlot" style="width:100%; max-width:500px"></div>

              <script>
              
              var xArray = {{xx0 | safe}};
              var yArray = {{yy0 | safe}};

              // Define Data
              var data = [{
                x: xArray,
                y: yArray,
                mode:"markers",
                type:"scatter"
              }];

              // Define Layout
              var layout = {
                xaxis: {title: "Total Net Weight kg"},
                yaxis: {title: "Board Type"},
                title: "Board Type vs. Total Net Weight kg"
              };

              Plotly.newPlot("myPlot", data, layout);

              </script> -->

              {% for n in plotnames %}

              <div class="col-md-6">

                <canvas id="{{n[0]}}-{{n[1]}}"></canvas>
                    
                <script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("{{n[0]}}-{{n[1]}}").getContext("2d");

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart2 = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        

                        {% if plotnames.index(n) >= 0 %}

                            // {
                            
                            // label: "{{n}} [FITTED: xtrain|ytrain]",
                            // data: {{block[plotnames.index(n)]}},
                            // showLine: false,
                            // borderColor: "{{colorlist[plotnames.index(n)]}}",
                            // backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                            // pointRadius: 6
                            
                            // },

                            

                            {% if pointflag == true %}

                                {
                                
                                label: "Predicted Points [PREDICT XTEST]",
                                data: {{xyblockcurve2[plotnames.index(n)] | safe}},
                                showLine: false,
                                borderColor: "black",
                                backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                                pointRadius: 8
                                
                                },


                                    {% if n[0] == xitem %}

                                    // {
                                    
                                    // label: "Your Selected Point",
                                    // data: {{pointer[plotnames.index(n)]}},
                                    // showLine: false,
                                    // borderColor: "black",
                                    // backgroundColor: "black",
                                    // pointRadius: 12
                                    
                                    // },

                                    {
                                    
                                    label: "Predicted Point (Classified)",
                                    data: {{pointerstr[0] | safe}},
                                    showLine: false,
                                    borderColor: "black",
                                    backgroundColor: "black",
                                    pointRadius: 12
                                    
                                    },

                                    {% endif %}


                            {% endif %}

                            

                            

                            //{

                            //label: "Linear Regression Line",
                            //data: {{blockline[plotnames.index(n)]}},
                            //showLine: true,
                            //borderColor: "grey",
                            //xAxisID: "Aline",
                            //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            //pointRadius: 3
                            //type: 'line',
                            

                            //},

                            

                            {% if slicerflag == true %}

                            {

                            label: "xtest | ytest data",
                            data: {{xyblockcurve1[plotnames.index(n)] | safe}},
                            showLine: false,
                            borderColor: "{{colorlist_ytest[plotnames.index(n)]}}",
                            backgroundColor: "{{rgbalist_ytest[plotnames.index(n)]}}",
                            pointRadius: 6
                            //xAxisID: "Aline",
                            //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            //pointRadius: 3
                            //type: 'line',
                            

                            },

                            // {

                            // label: "One",
                            // data: "{{xyblockcurve1[plotnames.index(n)]}}",
                            // showLine: true,
                            // borderColor: "blue",
                            // //xAxisID: "Aline",
                            // //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            // //pointRadius: 3
                            // type: 'line',

                            // },


                            {% endif %}

                        {% endif %}
                        
                                  ]
                          },

                        options: {

                            elements: {
                              point: {
                                //radius: 1,
                                hoverRadius: 5,
                              },
                            },

                            // hover: {
                            //   mode: 'index',
                            //   intersect: true          
                            // },

                            scales: {
                                x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{n[0]}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      }
                                    },

                                y: {

                                  type: 'category',
                                  position: 'left',
                                  display: true,
                                  title: {
                                    display: true,
                                    text: "{{n[1]}}",
                                    color: '#911', //191
                                    font: {
                                      family: 'Arial',
                                      size: 15,
                                      style: 'normal',
                                      lineHeight: 1.2
                                    },
                                    padding: {top: 0, left: 0, right: 0, bottom: 0}
                                  }
                                }
                            }
                        }
                        
                        });
                    
                </script>

                <!-- <div id="graphDiv"></div>

                <script>



                var data = [
                {x: bb, y: ss, type:'scatter', mode:"markers"},
                ];

                var layout = {
                  title: 'Sales Growth',
                  xaxis: {
                    title: 'Year',
                    showgrid: false,
                    zeroline: false
                  },
                  yaxis: {
                    title: 'Percent',
                    showline: false
                  }
                };
                Plotly.newPlot(graphDiv, data, layout);

              </script> -->


              </div>              

              {% endfor %}

          </div>

              <br><br>
              
              <div class="row">

                <div class="col-md-4">

                  <div class="card">
                  <div class="card-body">

                    <label>Select X Variable: </label>
                        <select name="xitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in lister %}
                                            {% if item == xitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>


                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findxlr" value="{{findxlr}}">
                        <br><br>
                        
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_xrfcr" value="Find the Optimum Y Label/Target">
                        <br><br><br>


                    <!-- <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        

                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> 
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_ylogr" value="Find the Optimum X Inputs"> -->

                        

                  </div>
                  </div>

                  <!-- <div class="card">
                  <div class="card-body">

                        <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        <br>

                        <label>Enter the desired value for the above selection: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button>
                        <input type="submit" class="btn btn-success btn-sm" name="confirmylr" value="Find the optimum parameters using LR">

                  </div>
                  </div> -->

                </div>



                <div class="col-md-4">

               

                 

                  <div class="card">
                  <div class="card-body">

                    <label>Results: </label>

                    {% for n in plotnames %}

                      {% if n[0] == xitem %}

                        <p>Classes (Y Axis): {{classlist}}</p>
                        <p>{{xitem}}: {{findxlr}}</p>
                        <p>Predicted value of {{n[1]}}: {{pointList[1]}}</p>

                      {% endif %}

                    {% endfor %}
                        
                        <!-- <table>
                          
                           {% for rows in datframe %}

                           <H5>{{rows | safe}}</H5>

                           {% endfor %}


                        </table> -->


                  </div>
                  </div>

                </div>


                    <!-- <canvas id="e"></canvas>
                    <script>

                      var ctx0 = $("#e");
                      var myChart0 = new Chart(ctx0, {
                        type: 'line',
                        data: {
                          labels: [{% for item in xx %}
                                   "{{item}}",
                                  {% endfor %}],
                          datasets: [{
                            label: '# of Votes',
                            xAxisID:'xAxis1',
                            data: [{% for item in yy %}
                                    {{item}},
                                  {% endfor %}],
                          }]
                        },
                        options:{
                          scales:{
                            xAxes:[
                              {
                                id:'xAxis1',
                                type:"category",
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    return month;
                                  }
                                }
                              },
                              {
                                id:'xAxis2',
                                type:"category",
                                gridLines: {
                                  drawOnChartArea: false, // only want the grid lines for one axis to show up
                                },
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    if(month === "February"){
                                      return year;
                                    }else{
                                      return "";
                                    }
                                  }
                                }
                              }],
                            yAxes:[{
                              ticks:{
                                beginAtZero:true
                              }
                            }]
                          }
                        }
                      });
                                         
                                    
                                    
                    </script>  -->

              </div>   <!-- close row -->

              <div class="row">

                  <div class="col-md">

                      <table style='font-size:8px'>

                          <h4>X_Train Input Data</h4>
                            
                          {% for rows in Xdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                      </table>

                  </div>

                  <div class="col-md">

                      <table style='font-size:8px'>

                          <h4>Y_Train Target Data</h4>
                            
                          {% for rows in Ydf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                      </table>

                  </div>

                  

                  <!-- <div class="col-lg-1">
                  </div> -->



              </div>

              <div class="row">

                  <div class="col-md">

                      <table style='font-size:8px'>

                          <h4>X_Test Input Data</h4>
                            
                          {% for rows in XTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                      </table>

                  </div>


                  <div class="col-md">

                      <table style='font-size:8px'>

                          <h4>Y_Test Target Data</h4>
                            
                          {% for rows in YTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                      </table>

                  </div>


                  <div class="col-md">

                      <table style='font-size:8px'>

                          <h4>Predicted Data</h4>

                          {% for rows in PREDICTEDdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                      </table>

                  </div>
                      
              </div>

              <div class="row">

                  <div class="col-md">

                    <table style='font-size:8px;'>

                          <h4>Original X Input Data</h4>
                            
                          {% for rows in OriginInputXdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                    </table>

                  </div>

                  <div class="col-md">

                    <table style='font-size:8px;'>

                          <h4>Original Y Label Data</h4>
                            
                          {% for rows in OriginLabelYdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                    </table>

                  </div>


              </div>


      {% endif %}


      {% if modelname == "Random Forest Regressor" %}

        <div class="row">

          <label for="n_estimator">Enter N Estimator</label>
            <br>
            <input type="text" name="n_estimator" value="{{n_estimator}}">
            <!-- <select class="form-select" id="n_estimator" name="n_estimator">
            
                            {% for item in n_estimator_list %}
                              {% if n_estimator == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select> -->
            &nbsp;&nbsp;&nbsp;
            <label for="max_depth">Enter Max Depth</label>
            <br>
            <input type="text" name="max_depth" value="{{max_depth}}">
            <!-- <select class="form-select" id="max_depth" name="max_depth">
            
                            {% for item in max_depth_list %}
                              {% if max_depth == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select> -->


            &nbsp;&nbsp;&nbsp;
            <input type="submit" class="btn btn-primary btn-sm" name="random_forest_regressor" value="Select">

        </div>

            <div class="row">

              <!-- <div id="myPlot" style="width:100%; max-width:500px"></div>

              <script>
              
              var xArray = {{xx0 | safe}};
              var yArray = {{yy0 | safe}};

              // Define Data
              var data = [{
                x: xArray,
                y: yArray,
                mode:"markers",
                type:"scatter"
              }];

              // Define Layout
              var layout = {
                xaxis: {title: "Total Net Weight kg"},
                yaxis: {title: "Board Type"},
                title: "Board Type vs. Total Net Weight kg"
              };

              Plotly.newPlot("myPlot", data, layout);

              </script> -->

              {% for n in plotnames %}

              <div class="col-md-6">

                <canvas id="{{n[0]}}-{{n[1]}}"></canvas>
                    
                <script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("{{n[0]}}-{{n[1]}}").getContext("2d");

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart2 = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        

                        {% if plotnames.index(n) >= 0 %}

                            // {
                            
                            // label: "{{n}} [FITTED: xtrain|ytrain]",
                            // data: {{block[plotnames.index(n)]}},
                            // showLine: false,
                            // borderColor: "{{colorlist[plotnames.index(n)]}}",
                            // backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                            // pointRadius: 6
                            
                            // },

                            

                            {% if pointflag == true %}

                                {
                                
                                label: "Predicted Points [PREDICT XTEST]",
                                data: {{xyblockcurve2[plotnames.index(n)]}},
                                showLine: false,
                                borderColor: "black",
                                backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                                pointRadius: 8
                                
                                },


                                    {% if n[0] == xitem %}

                                    {
                                    
                                    label: "Your Selected Point",
                                    data: {{pointer[0]}},
                                    showLine: false,
                                    borderColor: "black",
                                    backgroundColor: "black",
                                    pointRadius: 12
                                    
                                    },

                                    {% endif %}


                            {% endif %}

                            

                            

                            //{

                            //label: "Linear Regression Line",
                            //data: {{blockline[plotnames.index(n)]}},
                            //showLine: true,
                            //borderColor: "grey",
                            //xAxisID: "Aline",
                            //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            //pointRadius: 3
                            //type: 'line',
                            

                            //},

                            

                            {% if slicerflag == true %}

                            {

                            label: "xtest | ytest data",
                            data: {{xyblockcurve1[plotnames.index(n)]}},
                            showLine: false,
                            borderColor: "{{colorlist_ytest[plotnames.index(n)]}}",
                            backgroundColor: "{{rgbalist_ytest[plotnames.index(n)]}}",
                            pointRadius: 6
                            //xAxisID: "Aline",
                            //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            //pointRadius: 3
                            //type: 'line',
                            

                            },

                            // {

                            // label: "One",
                            // data: "{{xyblockcurve1[plotnames.index(n)]}}",
                            // showLine: true,
                            // borderColor: "blue",
                            // //xAxisID: "Aline",
                            // //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            // //pointRadius: 3
                            // type: 'line',

                            // },


                            {% endif %}

                        {% endif %}
                        
                                  ]
                          },

                        options: {

                            elements: {
                              point: {
                                //radius: 1,
                                hoverRadius: 5,
                              },
                            },

                            // hover: {
                            //   mode: 'index',
                            //   intersect: true          
                            // },

                            scales: {
                                x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{n[0]}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      }
                                    },

                                y: {
                                  display: true,
                                  title: {
                                    display: true,
                                    text: "{{n[1]}}",
                                    color: '#911', //191
                                    font: {
                                      family: 'Arial',
                                      size: 15,
                                      style: 'normal',
                                      lineHeight: 1.2
                                    },
                                    padding: {top: 0, left: 0, right: 0, bottom: 0}
                                  }
                                }
                            }
                        }
                        
                        });
                    
                </script>

                <!-- <div id="graphDiv"></div>

                <script>



                var data = [
                {x: bb, y: ss, type:'scatter', mode:"markers"},
                ];

                var layout = {
                  title: 'Sales Growth',
                  xaxis: {
                    title: 'Year',
                    showgrid: false,
                    zeroline: false
                  },
                  yaxis: {
                    title: 'Percent',
                    showline: false
                  }
                };
                Plotly.newPlot(graphDiv, data, layout);

              </script> -->


              </div>              

              {% endfor %}

          </div>

              <br><br>
              
              <div class="row">

                <div class="col-md-4">

                  <div class="card">
                  <div class="card-body">

                    <label>Select X Variable: </label>
                        <select name="xitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in lister %}
                                            {% if item == xitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>


                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findxlr" value="{{findxlr}}">
                        <br><br>
                        
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_xrfrr" value="Find the Optimum Y Label/Target">
                        <br><br><br>


                    <!-- <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        

                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> 
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_ylogr" value="Find the Optimum X Inputs"> -->

                        

                  </div>
                  </div>

                  <!-- <div class="card">
                  <div class="card-body">

                        <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        <br>

                        <label>Enter the desired value for the above selection: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button>
                        <input type="submit" class="btn btn-success btn-sm" name="confirmylr" value="Find the optimum parameters using LR">

                  </div>
                  </div> -->

                </div>



                <div class="col-md-4">

               

                 

                  <div class="card">
                  <div class="card-body">

                    <label>Results: </label>

                    {% for n in plotnames %}

                      {% if n[0] == xitem %}

                        <p>{{xitem}}: {{findxlr}}</p>
                        <p>Predicted value of {{n[1]}}: {{pointList[1]}}</p>

                      {% endif %}

                    {% endfor %}
                        
                        <!-- <table>
                          
                           {% for rows in datframe %}

                           <H5>{{rows | safe}}</H5>

                           {% endfor %}


                        </table> -->


                  </div>
                  </div>

                </div>


                    <!-- <canvas id="e"></canvas>
                    <script>

                      var ctx0 = $("#e");
                      var myChart0 = new Chart(ctx0, {
                        type: 'line',
                        data: {
                          labels: [{% for item in xx %}
                                   "{{item}}",
                                  {% endfor %}],
                          datasets: [{
                            label: '# of Votes',
                            xAxisID:'xAxis1',
                            data: [{% for item in yy %}
                                    {{item}},
                                  {% endfor %}],
                          }]
                        },
                        options:{
                          scales:{
                            xAxes:[
                              {
                                id:'xAxis1',
                                type:"category",
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    return month;
                                  }
                                }
                              },
                              {
                                id:'xAxis2',
                                type:"category",
                                gridLines: {
                                  drawOnChartArea: false, // only want the grid lines for one axis to show up
                                },
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    if(month === "February"){
                                      return year;
                                    }else{
                                      return "";
                                    }
                                  }
                                }
                              }],
                            yAxes:[{
                              ticks:{
                                beginAtZero:true
                              }
                            }]
                          }
                        }
                      });
                                         
                                    
                                    
                    </script>  -->

              </div>   <!-- close row -->

              <div class="row">

                  <div class="col-lg-5">

                          <h4>X_Train Input Data</h4>
                            
                          {% for rows in Xdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Y_Train Target Data</h4>
                            
                          {% for rows in Ydf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

              </div>

              <div class="row">

                          <h4>X_Test Input Data</h4>
                            
                          {% for rows in XTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

              </div>

              <div class="row">

                  <div class="col-lg-5">

                          <h4>Y_Test Target Data</h4>
                            
                          {% for rows in YTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Predicted Data</h4>

                          {% for rows in PREDICTEDdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>
                      
              </div>


      {% endif %}


      {% if modelname == "Support Vector Classifier" %}

        <div class="row">

          <label for="kernel">Choose Kernel</label>
            <br>
            <!-- <input type="text" name="kernel" value="{{kernel}}"> -->
            <select class="form-select" id="kernel" name="kernel">
            
                            {% for item in kernellist %}
                              {% if kernel == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select>
            &nbsp;&nbsp;&nbsp;
            <label for="gamma">Choose Gamma</label>
            <br>
            <!-- <input type="text" name="gamma" value="{{gamma}}"> -->
            <select class="form-select" id="gamma" name="gamma">
            
                            {% for item in gammalist %}
                              {% if gamma == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select>


            &nbsp;&nbsp;&nbsp;
            <input type="submit" class="btn btn-primary btn-sm" name="support_vector_classifier" value="Select">

        </div>

            <div class="row">

              <!-- <div id="myPlot" style="width:100%; max-width:500px"></div>

              <script>
              
              var xArray = {{xx0 | safe}};
              var yArray = {{yy0 | safe}};

              // Define Data
              var data = [{
                x: xArray,
                y: yArray,
                mode:"markers",
                type:"scatter"
              }];

              // Define Layout
              var layout = {
                xaxis: {title: "Total Net Weight kg"},
                yaxis: {title: "Board Type"},
                title: "Board Type vs. Total Net Weight kg"
              };

              Plotly.newPlot("myPlot", data, layout);

              </script> -->

              {% for n in plotnames %}

              <div class="col-md-6">

                <canvas id="{{n[0]}}-{{n[1]}}"></canvas>
                    
                <script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("{{n[0]}}-{{n[1]}}").getContext("2d");

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart2 = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        

                        {% if plotnames.index(n) >= 0 %}

                            // {
                            
                            // label: "{{n}} [FITTED: xtrain|ytrain]",
                            // data: {{block[plotnames.index(n)]}},
                            // showLine: false,
                            // borderColor: "{{colorlist[plotnames.index(n)]}}",
                            // backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                            // pointRadius: 6
                            
                            // },

                            

                            {% if pointflag == true %}

                                {
                                
                                label: "Predicted Points [PREDICT XTEST]",
                                data: {{xyblockcurve2[plotnames.index(n)] | safe}},
                                showLine: false,
                                borderColor: "black",
                                backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                                pointRadius: 8
                                
                                },


                                    {% if n[0] == xitem %}

                                    // {
                                    
                                    // label: "Predicted Point (Value)",
                                    // data: {{pointer[plotnames.index(n)]}},
                                    // showLine: false,
                                    // borderColor: "black",
                                    // backgroundColor: "black",
                                    // pointRadius: 12
                                    
                                    // },

                                    {
                                    
                                    label: "Predicted Point (Classified)",
                                    data: {{pointerstr[0] | safe}},
                                    showLine: false,
                                    borderColor: "black",
                                    backgroundColor: "black",
                                    pointRadius: 12
                                    
                                    },

                                    {% endif %}


                            {% endif %}

                            

                            

                            //{

                            //label: "Linear Regression Line",
                            //data: {{blockline[plotnames.index(n)]}},
                            //showLine: true,
                            //borderColor: "grey",
                            //xAxisID: "Aline",
                            //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            //pointRadius: 3
                            //type: 'line',
                            

                            //},

                            

                            {% if slicerflag == true %}

                            {

                            label: "xtest | ytest data",
                            data: {{xyblockcurve1[plotnames.index(n)] | safe}},
                            showLine: false,
                            borderColor: "{{colorlist_ytest[plotnames.index(n)]}}",
                            backgroundColor: "{{rgbalist_ytest[plotnames.index(n)]}}",
                            pointRadius: 6
                            //xAxisID: "Aline",
                            //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            //pointRadius: 3
                            //type: 'line',
                            

                            },

                            // {

                            // label: "One",
                            // data: "{{xyblockcurve1[plotnames.index(n)]}}",
                            // showLine: true,
                            // borderColor: "blue",
                            // //xAxisID: "Aline",
                            // //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            // //pointRadius: 3
                            // type: 'line',

                            // },


                            {% endif %}

                        {% endif %}
                        
                                  ]
                          },

                        options: {

                            elements: {
                              point: {
                                //radius: 1,
                                hoverRadius: 5,
                              },
                            },

                            // hover: {
                            //   mode: 'index',
                            //   intersect: true          
                            // },

                            scales: {

                                x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{n[0]}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      }
                                    },

                                y: {

                                  type: 'category',
                                  position: 'left',
                                  display: true,
                                  title: {
                                    display: true,
                                    text: "{{n[1]}}",
                                    color: '#911', //191
                                    font: {
                                      family: 'Arial',
                                      size: 15,
                                      style: 'normal',
                                      lineHeight: 1.2
                                    },
                                    padding: {top: 0, left: 0, right: 0, bottom: 0}
                                  }
                                }
                            }
                        }
                        
                        });
                    
                </script>

                <!-- <div id="graphDiv"></div>

                <script>



                var data = [
                {x: bb, y: ss, type:'scatter', mode:"markers"},
                ];

                var layout = {
                  title: 'Sales Growth',
                  xaxis: {
                    title: 'Year',
                    showgrid: false,
                    zeroline: false
                  },
                  yaxis: {
                    title: 'Percent',
                    showline: false
                  }
                };
                Plotly.newPlot(graphDiv, data, layout);

              </script> -->


              </div>              

              {% endfor %}

          </div>

              <br><br>
              
              <div class="row">

                <div class="col-md-4">

                  <div class="card">
                  <div class="card-body">

                    <label>Select X Variable: </label>
                        <select name="xitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in lister %}
                                            {% if item == xitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>


                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findxlr" value="{{findxlr}}">
                        <br><br>
                        
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_xsvcr" value="Find the Optimum Y Label/Target">
                        <br><br><br>


                    <!-- <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        

                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> 
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_ylogr" value="Find the Optimum X Inputs"> -->

                        

                  </div>
                  </div>

                  <!-- <div class="card">
                  <div class="card-body">

                        <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        <br>

                        <label>Enter the desired value for the above selection: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button>
                        <input type="submit" class="btn btn-success btn-sm" name="confirmylr" value="Find the optimum parameters using LR">

                  </div>
                  </div> -->

                </div>



                <div class="col-md-4">

               

                 

                  <div class="card">
                  <div class="card-body">

                    <label>Results: </label>

                    {% for n in plotnames %}

                      {% if n[0] == xitem %}

                        <p>Classes (Y Axis): {{classlist}}</p>
                        <p>{{xitem}}: {{findxlr}}</p>
                        <p>Predicted value of {{n[1]}}: {{pointList[1]}}</p>

                      {% endif %}

                    {% endfor %}
                        
                        <!-- <table>
                          
                           {% for rows in datframe %}

                           <H5>{{rows | safe}}</H5>

                           {% endfor %}


                        </table> -->


                  </div>
                  </div>

                </div>


                    <!-- <canvas id="e"></canvas>
                    <script>

                      var ctx0 = $("#e");
                      var myChart0 = new Chart(ctx0, {
                        type: 'line',
                        data: {
                          labels: [{% for item in xx %}
                                   "{{item}}",
                                  {% endfor %}],
                          datasets: [{
                            label: '# of Votes',
                            xAxisID:'xAxis1',
                            data: [{% for item in yy %}
                                    {{item}},
                                  {% endfor %}],
                          }]
                        },
                        options:{
                          scales:{
                            xAxes:[
                              {
                                id:'xAxis1',
                                type:"category",
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    return month;
                                  }
                                }
                              },
                              {
                                id:'xAxis2',
                                type:"category",
                                gridLines: {
                                  drawOnChartArea: false, // only want the grid lines for one axis to show up
                                },
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    if(month === "February"){
                                      return year;
                                    }else{
                                      return "";
                                    }
                                  }
                                }
                              }],
                            yAxes:[{
                              ticks:{
                                beginAtZero:true
                              }
                            }]
                          }
                        }
                      });
                                         
                                    
                                    
                    </script>  -->

              </div>   <!-- close row -->

              <div class="row">

                  <div class="col-md">

                      <table style='font-size:8px'>

                          <h4>X_Train Input Data</h4>
                            
                          {% for rows in Xdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                      </table>

                  </div>

                  <div class="col-md">

                      <table style='font-size:8px'>

                          <h4>Y_Train Target Data</h4>
                            
                          {% for rows in Ydf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                      </table>

                  </div>

                  

                  <!-- <div class="col-lg-1">
                  </div> -->



              </div>

              <div class="row">

                  <div class="col-md">

                      <table style='font-size:8px'>

                          <h4>X_Test Input Data</h4>
                            
                          {% for rows in XTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                      </table>

                  </div>


                  <div class="col-md">

                      <table style='font-size:8px'>

                          <h4>Y_Test Target Data</h4>
                            
                          {% for rows in YTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                      </table>

                  </div>


                  <div class="col-md">

                      <table style='font-size:8px'>

                          <h4>Predicted Data</h4>

                          {% for rows in PREDICTEDdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                      </table>

                  </div>
                      
              </div>

              <div class="row">

                  <div class="col-md">

                    <table style='font-size:8px;'>

                          <h4>Original X Input Data</h4>
                            
                          {% for rows in OriginInputXdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                    </table>

                  </div>

                  <div class="col-md">

                    <table style='font-size:8px;'>

                          <h4>Original Y Label Data</h4>
                            
                          {% for rows in OriginLabelYdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                    </table>

                  </div>


              </div>


      {% endif %}


      {% if modelname == "Support Vector Regressor" %}

        <div class="row">

          <label for="kernel">Choose Kernel</label>
            <br>
            <!-- <input type="text" name="kernel" value="{{kernel}}"> -->
            <select class="form-select" id="kernel" name="kernel">
            
                            {% for item in kernellist %}
                              {% if kernel == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select>
            &nbsp;&nbsp;&nbsp;
            <label for="gamma">Choose Gamma</label>
            <br>
            <!-- <input type="text" name="gamma" value="{{gamma}}"> -->
            <select class="form-select" id="gamma" name="gamma">
            
                            {% for item in gammalist %}
                              {% if gamma == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select>


            &nbsp;&nbsp;&nbsp;
            <input type="submit" class="btn btn-primary btn-sm" name="support_vector_regressor" value="Select">

        </div>

            <div class="row">

              <!-- <div id="myPlot" style="width:100%; max-width:500px"></div>

              <script>
              
              var xArray = {{xx0 | safe}};
              var yArray = {{yy0 | safe}};

              // Define Data
              var data = [{
                x: xArray,
                y: yArray,
                mode:"markers",
                type:"scatter"
              }];

              // Define Layout
              var layout = {
                xaxis: {title: "Total Net Weight kg"},
                yaxis: {title: "Board Type"},
                title: "Board Type vs. Total Net Weight kg"
              };

              Plotly.newPlot("myPlot", data, layout);

              </script> -->

              {% for n in plotnames %}

              <div class="col-md-6">

                <canvas id="{{n[0]}}-{{n[1]}}"></canvas>
                    
                <script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("{{n[0]}}-{{n[1]}}").getContext("2d");

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart2 = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        

                        {% if plotnames.index(n) >= 0 %}

                            // {
                            
                            // label: "{{n}} [FITTED: xtrain|ytrain]",
                            // data: {{block[plotnames.index(n)]}},
                            // showLine: false,
                            // borderColor: "{{colorlist[plotnames.index(n)]}}",
                            // backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                            // pointRadius: 6
                            
                            // },

                            

                            {% if pointflag == true %}

                                {
                                
                                label: "Predicted Points [PREDICT XTEST]",
                                data: {{xyblockcurve2[plotnames.index(n)] | safe}},
                                showLine: false,
                                borderColor: "black",
                                backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                                pointRadius: 8,
                                lineWidth: 5,
                                },


                                    {% if n[0] == xitem %}

                                    {
                                    
                                    label: "Predicted Point (Value)",
                                    data: {{pointer[0]}},
                                    showLine: false,
                                    borderColor: "black",
                                    backgroundColor: "black",
                                    pointRadius: 12
                                    
                                    },

                                    

                                    // {
                                    
                                    // label: "Predicted Point (Classified)",
                                    // data: {{pointerstr[plotnames.index(n)] | safe}},
                                    // showLine: false,
                                    // borderColor: "black",
                                    // backgroundColor: "black",
                                    // pointRadius: 12
                                    
                                    // },
                                    
                                    {% endif %}


                            {% endif %}

                            

                            

                            //{

                            //label: "Linear Regression Line",
                            //data: {{blockline[plotnames.index(n)]}},
                            //showLine: true,
                            //borderColor: "grey",
                            //xAxisID: "Aline",
                            //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            //pointRadius: 3
                            //type: 'line',
                            

                            //},

                            

                            {% if slicerflag == true %}

                            {

                            label: "xtest | ytest data",
                            data: {{xyblockcurve1[plotnames.index(n)]}},
                            showLine: false,
                            borderColor: "{{colorlist_ytest[plotnames.index(n)]}}",
                            backgroundColor: "{{rgbalist_ytest[plotnames.index(n)]}}",
                            pointRadius: 6
                            //xAxisID: "Aline",
                            //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            //pointRadius: 3
                            //type: 'line',
                            

                            },

                            // {

                            // label: "One",
                            // data: "{{xyblockcurve1[plotnames.index(n)]}}",
                            // showLine: true,
                            // borderColor: "blue",
                            // //xAxisID: "Aline",
                            // //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            // //pointRadius: 3
                            // type: 'line',

                            // },


                            {% endif %}

                        {% endif %}
                        
                                  ]
                          },

                        options: {

                            elements: {
                              point: {
                                //radius: 1,
                                hoverRadius: 5,
                              },
                            },

                            // hover: {
                            //   mode: 'index',
                            //   intersect: true          
                            // },

                            scales: {

                                x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{n[0]}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      }
                                    },

                                y: {
                                  display: true,
                                  title: {
                                    display: true,
                                    text: "{{n[1]}}",
                                    color: '#911', //191
                                    font: {
                                      family: 'Arial',
                                      size: 15,
                                      style: 'normal',
                                      lineHeight: 1.2
                                    },
                                    padding: {top: 0, left: 0, right: 0, bottom: 0}
                                  }
                                }
                            }
                        }
                        
                        });
                    
                </script>

                <!-- <div id="graphDiv"></div>

                <script>



                var data = [
                {x: bb, y: ss, type:'scatter', mode:"markers"},
                ];

                var layout = {
                  title: 'Sales Growth',
                  xaxis: {
                    title: 'Year',
                    showgrid: false,
                    zeroline: false
                  },
                  yaxis: {
                    title: 'Percent',
                    showline: false
                  }
                };
                Plotly.newPlot(graphDiv, data, layout);

              </script> -->


              </div>              

              {% endfor %}

          </div>

              <br><br>
              
              <div class="row">

                <div class="col-md-4">

                  <div class="card">
                  <div class="card-body">

                    <label>Select X Variable: </label>
                        <select name="xitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in lister %}
                                            {% if item == xitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>


                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findxlr" value="{{findxlr}}">
                        <br><br>
                        
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_xsvrr" value="Find the Optimum Y Label/Target">
                        <br><br><br>


                    <!-- <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        

                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> 
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_ylogr" value="Find the Optimum X Inputs"> -->

                        

                  </div>
                  </div>

                  <!-- <div class="card">
                  <div class="card-body">

                        <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        <br>

                        <label>Enter the desired value for the above selection: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button>
                        <input type="submit" class="btn btn-success btn-sm" name="confirmylr" value="Find the optimum parameters using LR">

                  </div>
                  </div> -->

                </div>



                <div class="col-md-4">

               

                 

                  <div class="card">
                  <div class="card-body">

                    <label>Results: </label>

                    {% for n in plotnames %}

                      {% if n[0] == xitem %}

                        <p>{{xitem}}: {{findxlr}}</p>
                        <p>Predicted value of {{n[1]}}: {{pointList[1]}}</p>

                      {% endif %}

                    {% endfor %}
                        
                        <!-- <table>
                          
                           {% for rows in datframe %}

                           <H5>{{rows | safe}}</H5>

                           {% endfor %}


                        </table> -->


                  </div>
                  </div>

                </div>


                    <!-- <canvas id="e"></canvas>
                    <script>

                      var ctx0 = $("#e");
                      var myChart0 = new Chart(ctx0, {
                        type: 'line',
                        data: {
                          labels: [{% for item in xx %}
                                   "{{item}}",
                                  {% endfor %}],
                          datasets: [{
                            label: '# of Votes',
                            xAxisID:'xAxis1',
                            data: [{% for item in yy %}
                                    {{item}},
                                  {% endfor %}],
                          }]
                        },
                        options:{
                          scales:{
                            xAxes:[
                              {
                                id:'xAxis1',
                                type:"category",
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    return month;
                                  }
                                }
                              },
                              {
                                id:'xAxis2',
                                type:"category",
                                gridLines: {
                                  drawOnChartArea: false, // only want the grid lines for one axis to show up
                                },
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    if(month === "February"){
                                      return year;
                                    }else{
                                      return "";
                                    }
                                  }
                                }
                              }],
                            yAxes:[{
                              ticks:{
                                beginAtZero:true
                              }
                            }]
                          }
                        }
                      });
                                         
                                    
                                    
                    </script>  -->

              </div>   <!-- close row -->

              <div class="row">

                  <div class="col-lg-5">

                          <h4>X_Train Input Data</h4>
                            
                          {% for rows in Xdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Y_Train Target Data</h4>
                            
                          {% for rows in Ydf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

              </div>

              <div class="row">

                          <h4>X_Test Input Data</h4>
                            
                          {% for rows in XTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

              </div>

              <div class="row">

                  <div class="col-lg-5">

                          <h4>Y_Test Target Data</h4>
                            
                          {% for rows in YTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Predicted Data</h4>

                          {% for rows in PREDICTEDdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>
                      
              </div>


      {% endif %}




      {% if modelname == "Naive Bayes" %}

        <!-- <div class="row">

          <label for="kernel">Choose Kernel</label>
            <br> -->
            <!-- <input type="text" name="kernel" value="{{kernel}}"> -->
            <!-- <select class="form-select" id="kernel" name="kernel">
            
                            {% for item in kernellist %}
                              {% if kernel == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select>
            &nbsp;&nbsp;&nbsp;
            <label for="gamma">Choose Gamma</label>
            <br> -->
            <!-- <input type="text" name="gamma" value="{{gamma}}"> -->
            <!-- <select class="form-select" id="gamma" name="gamma">
            
                            {% for item in gammalist %}
                              {% if gamma == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select>


            &nbsp;&nbsp;&nbsp;
            <input type="submit" class="btn btn-primary btn-sm" name="support_vector_classifier" value="Select">

        </div> -->

            <div class="row">

              <!-- {% for n in plotnames %}

              <canvas id="e"></canvas>
                    <script>

                      var ctx0 = $("#e");
                      var myChart0 = new Chart(ctx0, {
                        type: 'scatter',
                        data: {
                          
                          datasets: [

                          {
                            label: '# of Votes',
                            yAxesID: 'y1',
                            data: {{xyblockcurve2[plotnames.index(n)] | safe}}
                          },

                          {
                            label: 'T# of Votes',
                            yAxesID: 'y2',
                            data: {{xyblockcurve1[plotnames.index(n)] | safe}}
                          }

                          ]
                        },
                        options:{
                          scales:{
                            y1:
                              {
        
                                type:"category",
                                position:"left",
                                labels:[]
                               
                              },

                            y2:
                              {
        
                                type:"linear",
                                position:"right",
                                labels:[]
                               
                              }
                              
                            
                          }
                        }
                      });
                                         
                                                          
                    </script> 

                    {% endfor %} -->


              {% for n in plotnames %}

              <div class="col-md-6">

                <canvas id="{{n[0]}}-{{n[1]}}"></canvas>
                
                    
                <script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("{{n[0]}}-{{n[1]}}").getContext("2d");

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart2 = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        {% if plotnames.index(n) >= 0 %}

                            // {
                            
                            // label: "{{n}} [FITTED: xtrain|ytrain]",
                            // data: {{block[plotnames.index(n)]}},
                            // showLine: false,
                            // borderColor: "{{colorlist[plotnames.index(n)]}}",
                            // backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                            // pointRadius: 6
                            
                            // },    

                            //{% if pointflag == true %}

                                {
                                
                                yAxisID: 'y1',
                                label: "Predicted Points [PREDICT XTEST]",
                                data: {{xyblockcurve2[plotnames.index(n)] | safe}},
                                showLine: false,
                                borderColor: "black",
                                backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                                pointRadius: 8
                                
                                },



                                    


                            //{% endif %}


                            // {% if pointflag == true %}

                                {% if n[0] == xitem %}

                                        //{
                                        
                                        //yAxisID: 'y1',
                                        //label: "Predicted Point (Value)",
                                        //data: {{pointer[plotnames.index(n)]}},
                                        //showLine: false,
                                        //borderColor: "black",
                                        //backgroundColor: "black",
                                        //pointRadius: 12
                                        
                                        //},

                                        {
                                        
                                        yAxisID: 'y1',
                                        label: "Predicted Point (Classified)",
                                        data: {{pointerstr[0] | safe}},
                                        showLine: false,
                                        borderColor: "black",
                                        backgroundColor: "black",
                                        pointRadius: 12,
                                        fill: true,
                                        tension: 0.4
                                        
                                        },

                                {% endif %}

                            // {% endif %}

            

                            //{

                            //label: "Linear Regression Line",
                            //data: {{blockline[plotnames.index(n)]}},
                            //showLine: true,
                            //borderColor: "grey",
                            //xAxisID: "Aline",
                            //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            //pointRadius: 3
                            //type: 'line',
                            

                            //},

                            

                            //{% if slicerflag == true %}

                                    {

                                    yAxisID: 'y1',
                                    label: "xtest | ytest data",
                                    data: {{xyblockcurve1[plotnames.index(n)] | safe}},
                                    showLine: false,
                                    borderColor: "{{colorlist_ytest[plotnames.index(n)]}}",
                                    backgroundColor: "{{rgbalist_ytest[plotnames.index(n)]}}",
                                    pointRadius: 6
                                    

                                    // xAxisID: "Aline",
                                    // backgroundColor: "rgba(235, 19, 42, 0.8)",
                                    // pointRadius: 3
                                    // type: 'line',
                                    

                                    },

                            // {

                            // label: "One",
                            // data: "{{xyblockcurve1[plotnames.index(n)]}}",
                            // showLine: true,
                            // borderColor: "blue",
                            // //xAxisID: "Aline",
                            // //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            // //pointRadius: 3
                            // type: 'line',

                            // },


                            //{% endif %}

                        {% endif %}
                        
                                  ]
                          },

                        options: {

                            elements: {
                              point: {
                                //radius: 1,
                                hoverRadius: 5,
                              },
                            },

                            // hover: {
                            //   mode: 'index',
                            //   intersect: true          
                            // },

                            scales: {

                                // y2: {
                                //   type: 'category',
                                //   position: 'right',
                                //   //labels: []
                                  
                                // },
                              
                                x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{n[0]}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      }
                                    },

                                y1: {

                                  type: 'category',
                                  position: 'left',
                                  display: true,
                                  title: {
                                    display: true,
                                    text: "{{n[1]}}",
                                    color: '#911', //191
                                    font: {
                                      family: 'Arial',
                                      size: 15,
                                      style: 'normal',
                                      lineHeight: 1.2
                                    },
                                    padding: {top: 0, left: 0, right: 0, bottom: 0}
                                  }
                                }

                            }
                        }
                        
                        });
                    
                </script>

                <!-- <div id="graphDiv"></div>

                <script>



                var data = [
                {x: bb, y: ss, type:'scatter', mode:"markers"},
                ];

                var layout = {
                  title: 'Sales Growth',
                  xaxis: {
                    title: 'Year',
                    showgrid: false,
                    zeroline: false
                  },
                  yaxis: {
                    title: 'Percent',
                    showline: false
                  }
                };
                Plotly.newPlot(graphDiv, data, layout);

              </script> -->


              </div>              

              {% endfor %}

          </div>

              <br><br>
              
              <div class="row">

                <div class="col-md-4">

                  <div class="card">
                  <div class="card-body">

                    <label>Select X Variable: </label>
                        <select name="xitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in lister %}
                                            {% if item == xitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>


                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findxlr" value="{{findxlr}}">
                        <br><br>
                        
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_xnbr" value="Find the Optimum Y Label/Target">
                        <br><br><br>


                    <!-- <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        

                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> 
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_ylogr" value="Find the Optimum X Inputs"> -->

                        

                  </div>
                  </div>

                  <!-- <div class="card">
                  <div class="card-body">

                        <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        <br>

                        <label>Enter the desired value for the above selection: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button>
                        <input type="submit" class="btn btn-success btn-sm" name="confirmylr" value="Find the optimum parameters using LR">

                  </div>
                  </div> -->

                </div>



                <div class="col-md-4">

               

                 

                  <div class="card">
                  <div class="card-body">

                    <label>Results: </label>

                    {% for n in plotnames %}

                      {% if n[0] == xitem %}

                        <p>Classes (Y Axis): {{classlist}}</p>
                        <p>{{xitem}}: {{findxlr}}</p>
                        <p>Predicted value of {{n[1]}}: {{pointList[1]}}</p>

                      {% endif %}

                    {% endfor %}
                        
                        <!-- <table>
                          
                           {% for rows in datframe %}

                           <H5>{{rows | safe}}</H5>

                           {% endfor %}


                        </table> -->


                  </div>
                  </div>

                </div>


                    

              </div>   <!-- close row -->

              <div class="row">

                  <div class="col-lg-5">

                          <h4>X_Train Input Data</h4>
                            
                          {% for rows in Xdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Y_Train Target Data</h4>
                            
                          {% for rows in Ydf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

              </div>

              <div class="row">

                          <h4>X_Test Input Data</h4>
                            
                          {% for rows in XTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

              </div>

              <div class="row">

                  <div class="col-lg-5">

                          <h4>Y_Test Target Data</h4>
                            
                          {% for rows in YTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Predicted Data</h4>

                          {% for rows in PREDICTEDdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>
                      
              </div>


      {% endif %}

      {% if modelname == "Neural Network (MLP Classifier)" %}

      

        <div class="row">

          <label for="activation">Select Activation</label>
            <br>
            <!-- <input type="text" name="kernel" value="{{kernel}}"> -->
            <select class="form-select" id="activation" name="activation">
            
                            {% for item in activationlist %}
                              {% if activation == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select>
            &nbsp;&nbsp;&nbsp;
            <label for="solver">Select Solver</label>
            <br>
            <!-- <input type="text" name="gamma" value="{{gamma}}"> -->
            <select class="form-select" id="solver" name="solver">
            
                            {% for item in solverlist %}
                              {% if solver == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select>
            &nbsp;&nbsp;&nbsp;
            <label for="learningrate">Select Learning Rate</label>
            <br>
            <!-- <input type="text" name="gamma" value="{{gamma}}"> -->
            <select class="form-select" name="learningrate" id="learningrate">
            
                            {% for item in learningratelist %}
                              {% if learningrate == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select>
            &nbsp;&nbsp;&nbsp;
            <label for="learningrateinit">Initialize Learning Rate</label>
            <br>
            <input type="text" name="learningrateinit" value="{{learningrateinit}}">
            &nbsp;&nbsp;&nbsp;
            <label for="epochs">Max Number of Epochs</label>
            <br>
            <input type="text" name="epochs" value="{{epochs}}">
            &nbsp;&nbsp;&nbsp;
            <label for="hiddenlayers">Number of Hidden Layers</label>
            <br>
            <input type="text" name="hiddenlayers" value="{{hiddenlayers}}">


            &nbsp;&nbsp;&nbsp;
            <input type="submit" class="btn btn-primary btn-sm" name="mlp_classifier" value="Select">

        </div>

        

            <div class="row">

              <!-- <div id="myPlot" style="width:100%; max-width:500px"></div>

              <script>
              
              var xArray = {{xx0 | safe}};
              var yArray = {{yy0 | safe}};

              // Define Data
              var data = [{
                x: xArray,
                y: yArray,
                mode:"markers",
                type:"scatter"
              }];

              // Define Layout
              var layout = {
                xaxis: {title: "Total Net Weight kg"},
                yaxis: {title: "Board Type"},
                title: "Board Type vs. Total Net Weight kg"
              };

              Plotly.newPlot("myPlot", data, layout);

              </script> -->

              {% for n in plotnames %}

              <div class="col-md-6">

                <canvas id="{{n[0]}}-{{n[1]}}"></canvas>
                    
                <script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("{{n[0]}}-{{n[1]}}").getContext("2d");

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart2 = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        

                        {% if plotnames.index(n) >= 0 %}

                            // {
                            
                            // label: "{{n}} [FITTED: xtrain|ytrain]",
                            // data: {{block[plotnames.index(n)]}},
                            // showLine: false,
                            // borderColor: "{{colorlist[plotnames.index(n)]}}",
                            // backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                            // pointRadius: 6
                            
                            // },

                            

                            {% if pointflag == true %}

                                {
                                
                                label: "Predicted Points [PREDICT XTEST]",
                                data: {{xyblockcurve4[plotnames.index(n)] | safe}},
                                showLine: false,
                                borderColor: "black",
                                backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                                pointRadius: 8
                                
                                },


                                    {% if n[0] == xitem %}

                                    {
                                    
                                    label: "Predicted Point (Value)",
                                    data: {{pointerstr[0]| safe}},
                                    showLine: false,
                                    borderColor: "black",
                                    backgroundColor: "black",
                                    pointRadius: 12
                                    
                                    },

                                    

                                    // {
                                    
                                    // label: "Predicted Point (Classified) str",
                                    // data: {{pointer[plotnames.index(n)] | safe}},
                                    // showLine: false,
                                    // borderColor: "black",
                                    // backgroundColor: "black",
                                    // pointRadius: 12
                                    
                                    // },
                                    
                                    {% endif %}


                            {% endif %}

                            

                            

                            //{

                            //label: "Linear Regression Line",
                            //data: {{blockline[plotnames.index(n)]}},
                            //showLine: true,
                            //borderColor: "grey",
                            //xAxisID: "Aline",
                            //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            //pointRadius: 3
                            //type: 'line',
                            

                            //},

                            

                            {% if slicerflag == true %}

                            {

                            label: "xtest | ytest data",
                            data: {{xyblockcurve3[plotnames.index(n)] | safe}},
                            showLine: false,
                            borderColor: "{{colorlist_ytest[plotnames.index(n)]}}",
                            backgroundColor: "{{rgbalist_ytest[plotnames.index(n)]}}",
                            pointRadius: 6
                            //xAxisID: "Aline",
                            //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            //pointRadius: 3
                            //type: 'line',
                            

                            },

                            // {

                            // label: "One",
                            // data: "{{xyblockcurve1[plotnames.index(n)]}}",
                            // showLine: true,
                            // borderColor: "blue",
                            // //xAxisID: "Aline",
                            // //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            // //pointRadius: 3
                            // type: 'line',

                            // },


                            {% endif %}

                        {% endif %}
                        
                                  ]
                          },

                        options: {

                            elements: {
                              point: {
                                //radius: 1,
                                hoverRadius: 5,
                              },
                            },

                            // hover: {
                            //   mode: 'index',
                            //   intersect: true          
                            // },

                            scales: {

                                // y: {
                                //   type: 'category',
                                //   position: 'right',
                                //   labels: []
                                // },
                                x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{n[0]}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      }
                                    },

                                y: {
                                  type: "category",
                                  display: true,
                                  title: {
                                    display: true,
                                    text: "{{n[1]}}",
                                    color: '#911', //191
                                    font: {
                                      family: 'Arial',
                                      size: 15,
                                      style: 'normal',
                                      lineHeight: 1.2
                                    },
                                    padding: {top: 0, left: 0, right: 0, bottom: 0}
                                  }
                                }

                                // yAxes: [{
                                //     scaleLabel: {
                                //     display: true,
                                //     labelString: "{{n[1]}}"
                                    
                                //   }
                                // }],

                                // xAxes: [{
                                //     scaleLabel: {
                                //     display: true,
                                //     labelString: "{{n[0]}}"
                                //   }
                                // }]
                            }
                        }
                        
                        });
                    
                </script>

                <!-- <div id="graphDiv"></div>

                <script>



                var data = [
                {x: bb, y: ss, type:'scatter', mode:"markers"},
                ];

                var layout = {
                  title: 'Sales Growth',
                  xaxis: {
                    title: 'Year',
                    showgrid: false,
                    zeroline: false
                  },
                  yaxis: {
                    title: 'Percent',
                    showline: false
                  }
                };
                Plotly.newPlot(graphDiv, data, layout);

              </script> -->


              </div>              

              {% endfor %}

          </div>

              <br><br>
              
              <div class="row">

                <div class="col-md-4">

                  <div class="card">
                  <div class="card-body">

                    <label>Select X Variable: </label>
                        <select name="xitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in lister %}
                                            {% if item == xitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>


                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findxlr" value="{{findxlr}}">
                        <br><br>
                        
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_mlpclassifier" value="Find the Optimum Y Label/Target">
                        <br><br><br>


                    <!-- <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        

                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> 
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_ylogr" value="Find the Optimum X Inputs"> -->

                        

                  </div>
                  </div>

                  <!-- <div class="card">
                  <div class="card-body">

                        <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        <br>

                        <label>Enter the desired value for the above selection: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button>
                        <input type="submit" class="btn btn-success btn-sm" name="confirmylr" value="Find the optimum parameters using LR">

                  </div>
                  </div> -->

                </div>



                <div class="col-md-4">

               

                 

                  <div class="card">
                  <div class="card-body">

                    <label>Results: </label>

                    {% for n in plotnames %}

                      {% if n[0] == xitem %}

                        <p>Classes (Y Axis): {{classlist}}</p>
                        <p>{{xitem}}: {{findxlr}}</p>
                        <p>Predicted value of {{n[1]}}: {{pointList[1]}}</p>

                      {% endif %}

                    {% endfor %}
                        
                        <!-- <table>
                          
                           {% for rows in datframe %}

                           <H5>{{rows | safe}}</H5>

                           {% endfor %}


                        </table> -->


                  </div>
                  </div>

                </div>


                    <!-- <canvas id="e"></canvas>
                    <script>

                      var ctx0 = $("#e");
                      var myChart0 = new Chart(ctx0, {
                        type: 'line',
                        data: {
                          labels: [{% for item in xx %}
                                   "{{item}}",
                                  {% endfor %}],
                          datasets: [{
                            label: '# of Votes',
                            xAxisID:'xAxis1',
                            data: [{% for item in yy %}
                                    {{item}},
                                  {% endfor %}],
                          }]
                        },
                        options:{
                          scales:{
                            xAxes:[
                              {
                                id:'xAxis1',
                                type:"category",
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    return month;
                                  }
                                }
                              },
                              {
                                id:'xAxis2',
                                type:"category",
                                gridLines: {
                                  drawOnChartArea: false, // only want the grid lines for one axis to show up
                                },
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    if(month === "February"){
                                      return year;
                                    }else{
                                      return "";
                                    }
                                  }
                                }
                              }],
                            yAxes:[{
                              ticks:{
                                beginAtZero:true
                              }
                            }]
                          }
                        }
                      });
                                         
                                    
                                    
                    </script>  -->

              </div>   <!-- close row -->

              <div class="row">

                  <div class="col-lg-5">

                          <h4>X_Train Input Data</h4>
                            
                          {% for rows in Xdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Y_Train Target Data</h4>
                            
                          {% for rows in Ydf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

              </div>

              <div class="row">

                          <h4>X_Test Input Data</h4>
                            
                          {% for rows in XTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

              </div>

              <div class="row">

                  <div class="col-lg-5">

                          <h4>Y_Test Target Data</h4>
                            
                          {% for rows in YTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Predicted Data</h4>

                          {% for rows in PREDICTEDdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>
                      
              </div>


      {% endif %}


      {% if modelname == "Neural Network (MLP Regressor)" %}

      

        <div class="row">

          <label for="activation">Select Activation</label>
            <br>
            <!-- <input type="text" name="kernel" value="{{kernel}}"> -->
            <select class="form-select" id="activation" name="activation">
            
                            {% for item in activationlist %}
                              {% if activation == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select>
            &nbsp;&nbsp;&nbsp;
            <label for="solver">Select Solver</label>
            <br>
            <!-- <input type="text" name="gamma" value="{{gamma}}"> -->
            <select class="form-select" id="solver" name="solver">
            
                            {% for item in solverlist %}
                              {% if solver == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select>
            &nbsp;&nbsp;&nbsp;
            <label for="learningrate">Select Learning Rate</label>
            <br>
            <!-- <input type="text" name="gamma" value="{{gamma}}"> -->
            <select class="form-select" name="learningrate" id="learningrate">
            
                            {% for item in learningratelist %}
                              {% if learningrate == item %}
                                
                <option value="{{item}}" selected>{{item}}</option>
            
                              {% else %}
                                
                <option value="{{item}}">{{item}}</option>
            
                              {% endif %}
                            {% endfor %}
                        
            </select>
            &nbsp;&nbsp;&nbsp;
            <label for="learningrateinit">Initialize Learning Rate</label>
            <br>
            <input type="text" name="learningrateinit" value="{{learningrateinit}}">
            &nbsp;&nbsp;&nbsp;
            <label for="epochs">Max Number of Epochs</label>
            <br>
            <input type="text" name="epochs" value="{{epochs}}">
            &nbsp;&nbsp;&nbsp;
            <label for="hiddenlayers">Number of Hidden Layers</label>
            <br>
            <input type="text" name="hiddenlayers" value="{{hiddenlayers}}">


            &nbsp;&nbsp;&nbsp;
            <input type="submit" class="btn btn-primary btn-sm" name="mlp_regressor" value="Select">

        </div>

        

            <div class="row">

              <!-- <div id="myPlot" style="width:100%; max-width:500px"></div>

              <script>
              
              var xArray = {{xx0 | safe}};
              var yArray = {{yy0 | safe}};

              // Define Data
              var data = [{
                x: xArray,
                y: yArray,
                mode:"markers",
                type:"scatter"
              }];

              // Define Layout
              var layout = {
                xaxis: {title: "Total Net Weight kg"},
                yaxis: {title: "Board Type"},
                title: "Board Type vs. Total Net Weight kg"
              };

              Plotly.newPlot("myPlot", data, layout);

              </script> -->

              {% for n in plotnames %}

              <div class="col-md-6">

                <canvas id="{{n[0]}}-{{n[1]}}"></canvas>
                    
                <script>
                         
                    // get bar chart canvas
                    var ctx = document.getElementById("{{n[0]}}-{{n[1]}}").getContext("2d");

                    //var colorxx = "{{colorline | safe}}";

                    var scatterChart2 = new Chart(ctx, {
                      type: 'scatter',
                      
                      data: {
                        
                        datasets: [

                        

                        {% if plotnames.index(n) >= 0 %}

                            // {
                            
                            // label: "{{n}} [FITTED: xtrain|ytrain]",
                            // data: {{block[plotnames.index(n)]}},
                            // showLine: false,
                            // borderColor: "{{colorlist[plotnames.index(n)]}}",
                            // backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                            // pointRadius: 6
                            
                            // },

                            

                            {% if pointflag == true %}

                                {
                                
                                label: "Predicted Points [PREDICT XTEST]",
                                data: {{xyblockcurve2[plotnames.index(n)] | safe}},
                                showLine: false,
                                borderColor: "black",
                                backgroundColor: "{{rgbalist[plotnames.index(n)]}}",
                                pointRadius: 8
                                
                                },


                                    {% if n[0] == xitem %}

                                    {
                                    
                                    label: "Predicted Point (Value)",
                                    data: {{pointer[0]}},
                                    showLine: false,
                                    borderColor: "black",
                                    backgroundColor: "black",
                                    pointRadius: 12
                                    
                                    },

                                    

                                    // {
                                    
                                    // label: "Predicted Point (Classified)",
                                    // data: {{pointer[plotnames.index(n)] | safe}},
                                    // showLine: false,
                                    // borderColor: "black",
                                    // backgroundColor: "black",
                                    // pointRadius: 12
                                    
                                    // },
                                    
                                    {% endif %}


                            {% endif %}

                            

                            

                            //{

                            //label: "Linear Regression Line",
                            //data: {{blockline[plotnames.index(n)]}},
                            //showLine: true,
                            //borderColor: "grey",
                            //xAxisID: "Aline",
                            //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            //pointRadius: 3
                            //type: 'line',
                            

                            //},

                            

                            {% if slicerflag == true %}

                            {

                            label: "xtest | ytest data",
                            data: {{xyblockcurve1[plotnames.index(n)]}},
                            showLine: false,
                            borderColor: "{{colorlist_ytest[plotnames.index(n)]}}",
                            backgroundColor: "{{rgbalist_ytest[plotnames.index(n)]}}",
                            pointRadius: 6
                            //xAxisID: "Aline",
                            //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            //pointRadius: 3
                            //type: 'line',
                            

                            },

                            // {

                            // label: "One",
                            // data: "{{xyblockcurve1[plotnames.index(n)]}}",
                            // showLine: true,
                            // borderColor: "blue",
                            // //xAxisID: "Aline",
                            // //backgroundColor: "rgba(235, 19, 42, 0.8)",
                            // //pointRadius: 3
                            // type: 'line',

                            // },


                            {% endif %}

                        {% endif %}
                        
                                  ]
                          },

                        options: {

                            elements: {
                              point: {
                                //radius: 1,
                                hoverRadius: 5,
                              },
                            },

                            // hover: {
                            //   mode: 'index',
                            //   intersect: true          
                            // },

                            scales: {

                                // y: {
                                //   type: 'category',
                                //   position: 'right',
                                //   labels: []
                                // },

                                x: {
                                      display: true,
                                      title: {
                                        display: true,
                                        text: "{{n[0]}}",
                                        color: '#911',
                                        font: {
                                          family: 'Arial',
                                          size: 15,
                                          weight: 'normal',
                                          lineHeight: 1.2,
                                        },
                                        padding: {top: 0, left: 0, right: 0, bottom: 0}
                                      }
                                    },

                                y: {
                                  display: true,
                                  title: {
                                    display: true,
                                    text: "{{n[1]}}",
                                    color: '#911', //191
                                    font: {
                                      family: 'Arial',
                                      size: 15,
                                      style: 'normal',
                                      lineHeight: 1.2
                                    },
                                    padding: {top: 0, left: 0, right: 0, bottom: 0}
                                  }
                                }

                                // yAxes: [{
                                //     scaleLabel: {
                                //     display: true,
                                //     labelString: "{{n[1]}}"
                                    
                                //   }
                                // }],

                                // xAxes: [{
                                //     scaleLabel: {
                                //     display: true,
                                //     labelString: "{{n[0]}}"
                                //   }
                                // }]
                            }
                        }
                        
                        });
                    
                </script>

                <!-- <div id="graphDiv"></div>

                <script>



                var data = [
                {x: bb, y: ss, type:'scatter', mode:"markers"},
                ];

                var layout = {
                  title: 'Sales Growth',
                  xaxis: {
                    title: 'Year',
                    showgrid: false,
                    zeroline: false
                  },
                  yaxis: {
                    title: 'Percent',
                    showline: false
                  }
                };
                Plotly.newPlot(graphDiv, data, layout);

              </script> -->


              </div>              

              {% endfor %}

          </div>

              <br><br>
              
              <div class="row">

                <div class="col-md-4">

                  <div class="card">
                  <div class="card-body">

                    <label>Select X Variable: </label>
                        <select name="xitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in lister %}
                                            {% if item == xitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>


                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findxlr" value="{{findxlr}}">
                        <br><br>
                        
                        <!-- <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> -->
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_mlpregressor" value="Find the Optimum Y Label/Target">
                        <br><br><br>


                    <!-- <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        

                        <label>Enter the desired value for the variable above: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button> 
                        <input type="submit" class="btn btn-success btn-sm" name="confirm_ylogr" value="Find the Optimum X Inputs"> -->

                        

                  </div>
                  </div>

                  <!-- <div class="card">
                  <div class="card-body">

                        <label>Label/Target Y: Select Variable: </label>
                        <select name="yitem" mdb-select md-form colorful-select dropdown-primary>
                          
                          
                            
                                      {% for item in ycolumn %}
                                            {% if item == yitem %}
                                                
                            
                          
                          <option value="{{ item }}" selected>{{ item }}</option>
                          
                          
                              
                                            {% else %}
                                                
                            
                          
                          <option value="{{ item }}">{{ item }}</option>
                          
                          
                                
                                            {% endif %}      
                                      {% endfor %}
                          
                        
                        </select>

                        <br>

                        <label>Enter the desired value for the above selection: </label>
                        <br>
                        <input type="text" placeholder="" name="findylr" value="{{findylr}}">
                        <br><br>
                        <button type="submit" class="btn btn-success btn-sm">Find the optimum parameters using LR</button>
                        <input type="submit" class="btn btn-success btn-sm" name="confirmylr" value="Find the optimum parameters using LR">

                  </div>
                  </div> -->

                </div>



                <div class="col-md-4">

               

                 

                  <div class="card">
                  <div class="card-body">

                    <label>Results: </label>

                    {% for n in plotnames %}

                      {% if n[0] == xitem %}

                        <p>{{xitem}}: {{findxlr}}</p>
                        <p>Predicted value of {{n[1]}}: {{pointList[1]}}</p>

                      {% endif %}

                    {% endfor %}
                        
                        <!-- <table>
                          
                           {% for rows in datframe %}

                           <H5>{{rows | safe}}</H5>

                           {% endfor %}


                        </table> -->


                  </div>
                  </div>

                </div>


                    <!-- <canvas id="e"></canvas>
                    <script>

                      var ctx0 = $("#e");
                      var myChart0 = new Chart(ctx0, {
                        type: 'line',
                        data: {
                          labels: [{% for item in xx %}
                                   "{{item}}",
                                  {% endfor %}],
                          datasets: [{
                            label: '# of Votes',
                            xAxisID:'xAxis1',
                            data: [{% for item in yy %}
                                    {{item}},
                                  {% endfor %}],
                          }]
                        },
                        options:{
                          scales:{
                            xAxes:[
                              {
                                id:'xAxis1',
                                type:"category",
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    return month;
                                  }
                                }
                              },
                              {
                                id:'xAxis2',
                                type:"category",
                                gridLines: {
                                  drawOnChartArea: false, // only want the grid lines for one axis to show up
                                },
                                ticks:{
                                  callback:function(label){
                                    var month = label.split(";")[0];
                                    var year = label.split(";")[1];
                                    if(month === "February"){
                                      return year;
                                    }else{
                                      return "";
                                    }
                                  }
                                }
                              }],
                            yAxes:[{
                              ticks:{
                                beginAtZero:true
                              }
                            }]
                          }
                        }
                      });
                                         
                                    
                                    
                    </script>  -->

              </div>   <!-- close row -->

              <div class="row">

                  <div class="col-lg-5">

                          <h4>X_Train Input Data</h4>
                            
                          {% for rows in Xdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Y_Train Target Data</h4>
                            
                          {% for rows in Ydf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

              </div>

              <div class="row">

                          <h4>X_Test Input Data</h4>
                            
                          {% for rows in XTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

              </div>

              <div class="row">

                  <div class="col-lg-5">

                          <h4>Y_Test Target Data</h4>
                            
                          {% for rows in YTESTdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>

                  <div class="col-lg-1">
                  </div>

                  <div class="col-lg-5">

                          <h4>Predicted Data</h4>

                          {% for rows in PREDICTEDdf %}

                             <H5>{{rows | safe}}</H5>

                          {% endfor %}

                  </div>
                      
              </div>


      {% endif %}


    </form>
  </div>
</div>


<!-- <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/popper.js"></script>
    <script src="/staticjs/bootstrap.min.js"></script> --> 
<!-- <script src="/static/js/main.js"></script> -->

</body>
</html>